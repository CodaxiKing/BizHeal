"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/react-floater@0.9.5-4_react-dom@19.1.1_react@19.1.1__react@19.1.1";
exports.ids = ["vendor-chunks/react-floater@0.9.5-4_react-dom@19.1.1_react@19.1.1__react@19.1.1"];
exports.modules = {

/***/ "(ssr)/../../node_modules/.pnpm/react-floater@0.9.5-4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/react-floater/dist/index.mjs":
/*!********************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/react-floater@0.9.5-4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/react-floater/dist/index.mjs ***!
  \********************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReactFloater)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/.pnpm/next@15.5.3_@babel+core@7.28.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _popperjs_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @popperjs/core */ \"(ssr)/../../node_modules/.pnpm/@popperjs+core@2.11.8/node_modules/@popperjs/core/lib/popper.js\");\n/* harmony import */ var is_lite__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! is-lite */ \"(ssr)/../../node_modules/.pnpm/is-lite@1.2.1/node_modules/is-lite/dist/index.mjs\");\n/* harmony import */ var tree_changes_hook__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tree-changes-hook */ \"(ssr)/../../node_modules/.pnpm/tree-changes-hook@0.11.3_react@19.1.1/node_modules/tree-changes-hook/dist/index.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/../../node_modules/.pnpm/next@15.5.3_@babel+core@7.28.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom */ \"(ssr)/../../node_modules/.pnpm/next@15.5.3_@babel+core@7.28.4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var deepmerge_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! deepmerge-ts */ \"(ssr)/../../node_modules/.pnpm/deepmerge-ts@7.1.5/node_modules/deepmerge-ts/dist/index.mjs\");\n// src/index.tsx\n\n\n\n\n\n// src/components/Floater/index.tsx\n\n\n// src/components/Floater/Arrow.tsx\n\nfunction FloaterArrow(props) {\n  const { arrowRef, placement, styles } = props;\n  const {\n    arrow: { color, display, length, position, spread }\n  } = styles;\n  const arrowStyles = { display, position };\n  let points;\n  let x = spread;\n  let y = length;\n  if (placement.startsWith(\"top\")) {\n    points = `0,0 ${x / 2},${y} ${x},0`;\n  } else if (placement.startsWith(\"bottom\")) {\n    points = `${x},${y} ${x / 2},0 0,${y}`;\n  } else if (placement.startsWith(\"left\")) {\n    y = spread;\n    x = length;\n    points = `0,0 ${x},${y / 2} 0,${y}`;\n  } else if (placement.startsWith(\"right\")) {\n    y = spread;\n    x = length;\n    points = `${x},${y} ${x},0 0,${y / 2}`;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { ref: arrowRef, className: \"__floater__arrow\", style: arrowStyles, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"svg\", { height: y, version: \"1.1\", width: x, xmlns: \"http://www.w3.org/2000/svg\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"polygon\", { fill: color, points }) }) });\n}\n\n// src/components/Floater/Container.tsx\n\n\n\n// src/components/Floater/CloseButton.tsx\n\nfunction FloaterCloseButton({ onClick, styles }) {\n  const { color, height, width, ...style } = styles;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", { \"aria-label\": \"close\", onClick, style, type: \"button\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"svg\",\n    {\n      height: `${height}px`,\n      preserveAspectRatio: \"xMidYMid\",\n      version: \"1.1\",\n      viewBox: \"0 0 18 18\",\n      width: `${width}px`,\n      xmlns: \"http://www.w3.org/2000/svg\",\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"g\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"path\",\n        {\n          d: \"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z\",\n          fill: color\n        }\n      ) })\n    }\n  ) });\n}\n\n// src/components/Floater/Container.tsx\n\nfunction FloaterContainer(props) {\n  const { content, footer, onClick, open, positionWrapper, showCloseButton, styles, title } = props;\n  const output = {\n    content: (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(content) ? content : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: \"__floater__content\", style: styles.content, children: content })\n  };\n  if (title) {\n    output.title = (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(title) ? title : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: \"__floater__title\", style: styles.title, children: title });\n  }\n  if (footer) {\n    output.footer = (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(footer) ? footer : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: \"__floater__footer\", style: styles.footer, children: footer });\n  }\n  if ((showCloseButton || positionWrapper) && !is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boolean(open)) {\n    output.close = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FloaterCloseButton, { onClick, styles: styles.close });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"__floater__container\", style: styles.container, children: [\n    output.close,\n    output.title,\n    output.content,\n    output.footer\n  ] });\n}\n\n// src/literals.ts\nvar POSITIONING_PROPS = [\"position\", \"top\", \"right\", \"bottom\", \"left\"];\nvar STATUS = {\n  INIT: \"init\",\n  IDLE: \"idle\",\n  RENDER: \"render\",\n  OPENING: \"opening\",\n  OPEN: \"open\",\n  CLOSING: \"closing\",\n  ERROR: \"error\"\n};\n\n// src/components/Floater/index.tsx\n\nfunction Floater(props) {\n  const {\n    component,\n    content,\n    floaterRef,\n    hideArrow,\n    id,\n    onClick: closeFn,\n    placement,\n    status,\n    styles\n  } = props;\n  const style = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const {\n      arrow: { length },\n      floater,\n      floaterCentered,\n      floaterClosing,\n      floaterOpening,\n      floaterWithComponent\n    } = styles;\n    let element = { ...floater };\n    if (!hideArrow) {\n      if (placement.startsWith(\"top\")) {\n        element.padding = `0 0 ${length}px`;\n      } else if (placement.startsWith(\"bottom\")) {\n        element.padding = `${length}px 0 0`;\n      } else if (placement.startsWith(\"left\")) {\n        element.padding = `0 ${length}px 0 0`;\n      } else if (placement.startsWith(\"right\")) {\n        element.padding = `0 0 0 ${length}px`;\n      }\n    }\n    if (status === STATUS.CLOSING) {\n      element = { ...element, ...floaterClosing };\n    }\n    if (status === STATUS.OPENING || status === STATUS.OPEN) {\n      element = { ...element, ...floaterOpening };\n    }\n    if (placement === \"center\") {\n      element = { ...element, ...floaterCentered };\n    }\n    if (component) {\n      element = { ...element, ...floaterWithComponent };\n    }\n    return element;\n  }, [component, hideArrow, placement, status, styles]);\n  const shouldRender = [\"render\", \"open\", \"opening\", \"closing\"].includes(status);\n  const output = {};\n  const classes = [\"__floater\"];\n  const baseProps = { role: \"tooltip\" };\n  if (component) {\n    const componentProps = { closeFn, id, ...baseProps };\n    output.content = (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(component) ? (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(component, componentProps) : component(componentProps);\n  } else {\n    output.content = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FloaterContainer, { ...props, content });\n  }\n  if (status === STATUS.OPEN) {\n    classes.push(\"__floater__open\");\n  }\n  if (!hideArrow) {\n    output.arrow = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(FloaterArrow, { ...props });\n  }\n  if (!shouldRender) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { ref: floaterRef, id, style: { zIndex: styles.options.zIndex }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: classes.join(\" \"), style, ...baseProps, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"__floater__body\", children: [\n    output.content,\n    output.arrow\n  ] }) }) });\n}\nvar Floater_default = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Floater);\n\n// src/components/Portal.tsx\n\n\n\n\n// src/modules/helpers.ts\n\n\nvar portalId = \"react-floater-portal\";\nfunction canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document?.createElement);\n}\nfunction enhanceProps(props) {\n  return {\n    autoOpen: false,\n    debug: false,\n    disableFlip: false,\n    disableHoverToClick: false,\n    event: \"click\",\n    eventDelay: 0.4,\n    hideArrow: false,\n    offset: 15,\n    placement: \"bottom\",\n    showCloseButton: false,\n    styles: {},\n    target: null,\n    wrapperOptions: {\n      position: false\n    },\n    ...props\n  };\n}\nfunction getFallbackPlacements(placement) {\n  if (placement.startsWith(\"left\")) {\n    return [\"top\", \"bottom\"];\n  }\n  if (placement.startsWith(\"right\")) {\n    return [\"bottom\", \"top\"];\n  }\n  return void 0;\n}\nfunction getModifiers(modifiers) {\n  const defaultOptions2 = {\n    flip: {\n      name: \"flip\",\n      enabled: true,\n      options: {\n        padding: 20\n      }\n    },\n    preventOverflow: {\n      name: \"preventOverflow\",\n      enabled: true,\n      options: {\n        padding: 10\n      }\n    }\n  };\n  return (0,deepmerge_ts__WEBPACK_IMPORTED_MODULE_4__.deepmerge)(defaultOptions2, modifiers ?? {});\n}\nfunction isFixed(el) {\n  if (!el) {\n    return false;\n  }\n  const { nodeName } = el;\n  if (nodeName === \"BODY\" || nodeName === \"HTML\") {\n    return false;\n  }\n  if (getComputedStyle(el).position === \"fixed\") {\n    return true;\n  }\n  return el.parentNode instanceof HTMLElement ? isFixed(el.parentNode) : false;\n}\nfunction isMobile() {\n  return \"ontouchstart\" in window && /Mobi/.test(navigator.userAgent);\n}\nfunction log({ data, debug = false, title }) {\n  const logFn = console.log;\n  if (debug && title && data) {\n    console.groupCollapsed(\n      `%creact-floater: ${title}`,\n      \"color: #9b00ff; font-weight: bold; font-size: 12px;\"\n    );\n    if (Array.isArray(data)) {\n      data.forEach((d) => {\n        if (is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].plainObject(d) && d.key) {\n          logFn.apply(console, [d.key, d.value]);\n        } else {\n          logFn.apply(console, [d]);\n        }\n      });\n    } else {\n      logFn.apply(console, [data]);\n    }\n    console.groupEnd();\n  }\n}\nfunction mergeModifier(modifier, customModifier) {\n  return (0,deepmerge_ts__WEBPACK_IMPORTED_MODULE_4__.deepmerge)(modifier, customModifier ?? {});\n}\nfunction off(element, eventType, handler, options = false) {\n  element.removeEventListener(eventType, handler, options);\n}\nfunction on(element, eventType, handler, options = false) {\n  element.addEventListener(eventType, handler, options);\n}\nfunction once(element, eventType, handler, options = false) {\n  let nextCB;\n  nextCB = (event) => {\n    handler(event);\n    off(element, eventType, nextCB);\n  };\n  on(element, eventType, nextCB, options);\n}\nfunction randomId() {\n  return `rf-${Math.round(Math.random() * 1e5)}`;\n}\n\n// src/modules/hooks.ts\n\nfunction useEffectOnce(effect) {\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(effect, []);\n}\nfunction useMount(effect) {\n  useEffectOnce(effect);\n}\nfunction useSingleton(callback) {\n  const hasBeenCalled = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  if (hasBeenCalled.current) {\n    return;\n  }\n  callback();\n  hasBeenCalled.current = true;\n}\nfunction useUnmount(fn) {\n  const fnRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(fn);\n  fnRef.current = fn;\n  useEffectOnce(() => () => fnRef.current());\n}\nfunction useUpdateEffect(effect, deps) {\n  const isFirst = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!isFirst.current) {\n      effect();\n    }\n  }, deps);\n  if (isFirst.current) {\n    isFirst.current = false;\n  }\n}\n\n// src/components/Portal.tsx\nfunction ReactFloaterPortal(props) {\n  const { children, hasChildren, internalId, placement, portalElement, target, zIndex } = props;\n  const node = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const initialize = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (!canUseDOM()) {\n      return;\n    }\n    if (portalElement) {\n      node.current = is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].string(portalElement) ? document.querySelector(portalElement) : portalElement;\n    }\n    if (!portalElement || !node.current) {\n      const portal = document.getElementById(portalId);\n      if (portal) {\n        const ids = portal.dataset.ids?.split(\",\").filter(Boolean) ?? [];\n        if (!ids.includes(internalId) && internalId) {\n          ids.push(internalId);\n        }\n        portal.dataset.ids = ids.join(\",\");\n        node.current = portal;\n      } else {\n        node.current = document.createElement(\"div\");\n        node.current.id = portalId;\n        node.current.dataset.ids = internalId;\n        node.current.style.zIndex = `${zIndex}`;\n        document.body.appendChild(node.current);\n      }\n    }\n    if (!portalElement && !document.getElementById(portalId)) {\n      if (node.current) {\n        document.body.appendChild(node.current);\n      }\n    }\n  }, [internalId, portalElement, zIndex]);\n  useMount(() => {\n    if (!canUseDOM) {\n      return;\n    }\n    initialize();\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    initialize();\n  }, [initialize]);\n  useUnmount(() => {\n    if (!canUseDOM() || !node.current) {\n      return;\n    }\n    try {\n      if (node.current.id === portalId) {\n        const ids = node.current.dataset.ids?.split(\",\") ?? [];\n        if (ids.includes(internalId)) {\n          node.current.dataset.ids = ids.filter((id) => id !== internalId).join(\",\");\n        }\n        if (ids.length <= 1) {\n          document.body.removeChild(node.current);\n          node.current = null;\n        }\n      }\n    } catch {\n      node.current = null;\n    }\n  });\n  if (node.current) {\n    if (!hasChildren && !target && placement !== \"center\") {\n      return null;\n    }\n    return (0,react_dom__WEBPACK_IMPORTED_MODULE_3__.createPortal)(children, node.current);\n  }\n  return null;\n}\n\n// src/components/Wrapper.tsx\n\n\n\nfunction FloaterWrapper(props) {\n  const {\n    childRef,\n    children,\n    id,\n    isControlled,\n    onClick,\n    onMount,\n    onMouseEnter,\n    onMouseLeave,\n    status,\n    style,\n    styles,\n    wrapperRef\n  } = props;\n  useMount(() => {\n    onMount();\n  });\n  let element = null;\n  const mergedStyles = {\n    ...styles,\n    ...style,\n    ...(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(children) ? children.props.style : void 0\n  };\n  const wrapperId = `${id}-wrapper`;\n  let wrapperProps = {\n    \"aria-describedby\": [STATUS.OPENING, STATUS.OPEN, STATUS.CLOSING].includes(\n      status\n    ) ? id : void 0,\n    style: mergedStyles\n  };\n  if (!isControlled) {\n    wrapperProps = {\n      ...wrapperProps,\n      onClick,\n      onMouseEnter,\n      onMouseLeave\n    };\n  }\n  if (children) {\n    if (react__WEBPACK_IMPORTED_MODULE_0__.Children.count(children) === 1 && (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(children) && children.type !== react__WEBPACK_IMPORTED_MODULE_0__.Fragment) {\n      element = is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].function(children.type) ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { ref: wrapperRef, id: wrapperId, ...wrapperProps, children: (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children), {\n        innerRef: childRef\n      }) }) : (0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children), {\n        id: wrapperId,\n        ref: wrapperRef,\n        ...wrapperProps\n      });\n    } else {\n      element = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { ref: wrapperRef, id: wrapperId, ...wrapperProps, children });\n    }\n  }\n  return element;\n}\nvar Wrapper_default = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(FloaterWrapper);\n\n// src/modules/styles.ts\n\nvar defaultOptions = {\n  zIndex: 100\n};\nfunction getStyles(styles) {\n  const { options = {}, ...rest } = styles ?? {};\n  return (0,deepmerge_ts__WEBPACK_IMPORTED_MODULE_4__.deepmerge)(\n    {\n      arrow: {\n        color: \"#fff\",\n        display: \"inline-flex\",\n        length: 16,\n        position: \"absolute\",\n        spread: 32\n      },\n      close: {\n        backgroundColor: \"transparent\",\n        border: 0,\n        borderRadius: 0,\n        color: \"#555\",\n        fontSize: 0,\n        height: 15,\n        outline: \"none\",\n        padding: 10,\n        position: \"absolute\",\n        right: 0,\n        top: 0,\n        width: 15,\n        WebkitAppearance: \"none\"\n      },\n      container: {\n        backgroundColor: \"#fff\",\n        color: \"#666\",\n        minHeight: 60,\n        minWidth: 200,\n        padding: 20,\n        position: \"relative\",\n        zIndex: 10\n      },\n      content: {\n        fontSize: 15\n      },\n      footer: {\n        borderTop: \"1px solid #ccc\",\n        fontSize: 13,\n        marginTop: 10,\n        paddingTop: 5\n      },\n      floater: {\n        display: \"inline-block\",\n        filter: \"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))\",\n        maxWidth: 300,\n        opacity: 0,\n        position: \"relative\",\n        transition: \"opacity 0.3s\",\n        visibility: \"hidden\",\n        zIndex: options.zIndex\n      },\n      floaterCentered: {\n        left: \"50%\",\n        position: \"fixed\",\n        top: \"50%\",\n        transform: \"translate(-50%, -50%)\"\n      },\n      floaterClosing: {\n        opacity: 0,\n        visibility: \"visible\"\n      },\n      floaterOpening: {\n        opacity: 1,\n        visibility: \"visible\"\n      },\n      floaterWithComponent: {\n        maxWidth: \"100%\"\n      },\n      title: {\n        borderBottom: \"1px solid #555\",\n        color: \"#555\",\n        fontSize: 18,\n        marginBottom: 5,\n        paddingBottom: 6,\n        paddingRight: 18\n      },\n      wrapper: {\n        cursor: \"help\",\n        zIndex: options.zIndex\n      },\n      wrapperPosition: {\n        left: -1e3,\n        position: \"absolute\",\n        top: -1e3,\n        visibility: \"hidden\"\n      },\n      options: (0,deepmerge_ts__WEBPACK_IMPORTED_MODULE_4__.deepmerge)(defaultOptions, options)\n    },\n    rest\n  );\n}\n\n// src/index.tsx\n\nfunction ReactFloater(props) {\n  const {\n    autoOpen = false,\n    callback,\n    children,\n    component,\n    content,\n    debug = false,\n    disableFlip = false,\n    disableHoverToClick = false,\n    event = \"click\",\n    eventDelay = 0.4,\n    footer,\n    getPopper,\n    hideArrow = false,\n    id,\n    modifiers,\n    offset = 15,\n    open,\n    placement = \"bottom\",\n    portalElement,\n    showCloseButton = false,\n    style,\n    styles,\n    target,\n    title,\n    wrapperOptions\n  } = enhanceProps(props);\n  const [state, setState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(\n    (previousState, nextState) => ({\n      ...previousState,\n      ...nextState\n    }),\n    {\n      currentPlacement: placement,\n      positionWrapper: !!wrapperOptions?.position && !!target,\n      status: STATUS.INIT,\n      statusWrapper: STATUS.INIT\n    }\n  );\n  const arrowRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const childRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const eventDelayTimer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const floaterRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const internalId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(randomId());\n  const isMounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  const popperRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const stateRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(state);\n  const wrapperPopper = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const wrapperRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const wrapperStyles = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});\n  const { currentPlacement, positionWrapper, status, statusWrapper } = state;\n  const { changed } = (0,tree_changes_hook__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(state);\n  const { changed: changedProps } = (0,tree_changes_hook__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(props);\n  const updateState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (nextState, callback_) => {\n      if (isMounted.current) {\n        setState(nextState);\n        stateRef.current = { ...state, ...nextState };\n        if (callback_) {\n          callback_();\n        }\n      }\n    },\n    [setState, state]\n  );\n  const toggle = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (forceStatus) => {\n      let nextStatus = stateRef.current.status === STATUS.OPEN ? STATUS.CLOSING : STATUS.RENDER;\n      if (!is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].undefined(forceStatus)) {\n        nextStatus = forceStatus;\n      }\n      updateState({\n        status: nextStatus,\n        statusWrapper: nextStatus === STATUS.CLOSING ? STATUS.RENDER : STATUS.IDLE\n      });\n    },\n    [updateState]\n  );\n  const targetElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(() => {\n    if (!canUseDOM()) {\n      return null;\n    }\n    if (target) {\n      if (is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].domElement(target)) {\n        return target;\n      }\n      return document.querySelector(target);\n    }\n    return childRef.current ?? wrapperRef.current;\n  });\n  const currentDebug = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    return canUseDOM() && (debug || !!window.ReactFloaterDebug);\n  }, [debug]);\n  const currentEvent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    if (event === \"hover\" && isMobile() && !disableHoverToClick) {\n      return \"click\";\n    }\n    return event;\n  }, [disableHoverToClick, event]);\n  const currentStyles = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const nextStyles = getStyles(styles);\n    const element = targetElement.current();\n    if (positionWrapper) {\n      let wrapperCurrentStyles;\n      if (status !== STATUS.IDLE) {\n        wrapperCurrentStyles = nextStyles.wrapperPosition;\n      } else if (statusWrapper === STATUS.RENDER) {\n        wrapperCurrentStyles = wrapperPopper.current?.state.styles;\n      }\n      nextStyles.wrapper = {\n        ...nextStyles.wrapper,\n        ...wrapperCurrentStyles\n      };\n    }\n    if (element) {\n      const targetStyles = window.getComputedStyle(element);\n      if (wrapperStyles.current) {\n        nextStyles.wrapper = {\n          ...nextStyles.wrapper,\n          ...wrapperStyles.current\n        };\n      } else if (![\"relative\", \"static\"].includes(targetStyles.position)) {\n        wrapperStyles.current = {};\n        if (!positionWrapper) {\n          POSITIONING_PROPS.forEach((d) => {\n            if (d === \"position\") {\n              wrapperStyles.current[d] = targetStyles[d];\n            } else {\n              wrapperStyles.current[d] = targetStyles[d];\n            }\n          });\n          nextStyles.wrapper = {\n            ...nextStyles.wrapper,\n            ...wrapperStyles.current\n          };\n        }\n      }\n    }\n    return nextStyles;\n  }, [positionWrapper, status, statusWrapper, styles]);\n  const initPopper = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    const nextStatus = stateRef.current.status === STATUS.RENDER ? STATUS.OPENING : STATUS.IDLE;\n    const element = targetElement.current();\n    if (placement === \"center\") {\n      setTimeout(() => {\n        updateState({ status: nextStatus });\n      }, 100);\n    } else if (element) {\n      if (floaterRef.current) {\n        const { arrow, flip, offset: offsetModifier, ...rest } = getModifiers(modifiers);\n        popperRef.current = (0,_popperjs_core__WEBPACK_IMPORTED_MODULE_6__.createPopper)(element, floaterRef.current, {\n          placement,\n          strategy: isFixed(targetElement.current()) ? \"fixed\" : \"absolute\",\n          modifiers: [\n            mergeModifier(\n              {\n                name: \"arrow\",\n                enabled: !hideArrow,\n                options: {\n                  element: arrowRef.current,\n                  padding: 8\n                }\n              },\n              arrow\n            ),\n            mergeModifier(\n              {\n                name: \"flip\",\n                enabled: !disableFlip,\n                options: {\n                  altAxis: false,\n                  fallbackPlacements: getFallbackPlacements(placement || \"bottom\")\n                }\n              },\n              flip\n            ),\n            mergeModifier(\n              {\n                name: \"offset\",\n                enabled: true,\n                options: {\n                  offset: [0, offset]\n                }\n              },\n              offsetModifier\n            ),\n            {\n              name: \"updatePlacement\",\n              enabled: true,\n              phase: \"afterWrite\",\n              fn: ({ instance, state: popperState }) => {\n                if (popperState.placement !== stateRef.current.currentPlacement) {\n                  popperRef.current = instance;\n                  updateState({ currentPlacement: popperState.placement });\n                }\n              }\n            },\n            {\n              name: \"applyArrowStyle\",\n              enabled: true,\n              phase: \"write\",\n              fn: ({ state: popperState }) => {\n                const {\n                  elements: { arrow: stateArrow },\n                  placement: statePlacement\n                } = popperState;\n                if (stateArrow) {\n                  if (statePlacement.startsWith(\"top\")) {\n                    stateArrow.style.bottom = \"0px\";\n                    stateArrow.style.right = \"\";\n                  } else if (statePlacement.startsWith(\"bottom\")) {\n                    stateArrow.style.top = \"0px\";\n                    stateArrow.style.right = \"\";\n                  } else if (statePlacement.startsWith(\"left\")) {\n                    stateArrow.style.right = \"0px\";\n                    stateArrow.style.bottom = \"\";\n                  } else if (statePlacement.startsWith(\"right\")) {\n                    stateArrow.style.left = \"0px\";\n                    stateArrow.style.bottom = \"\";\n                  }\n                }\n              }\n            },\n            ...Object.values(rest)\n          ],\n          onFirstUpdate: (popperState) => {\n            updateState({\n              currentPlacement: popperState.placement,\n              status: nextStatus\n            });\n            if (placement !== popperState.placement) {\n              setTimeout(() => {\n                popperRef.current?.forceUpdate();\n              });\n            }\n          }\n        });\n        if (getPopper && popperRef.current) {\n          getPopper(popperRef.current, \"floater\");\n        }\n      } else {\n        updateState({\n          status: STATUS.IDLE\n        });\n      }\n      if (wrapperRef.current && !wrapperPopper.current && stateRef.current.positionWrapper) {\n        const wrapperOffset = wrapperOptions?.offset ? wrapperOptions.offset : 0;\n        wrapperPopper.current = (0,_popperjs_core__WEBPACK_IMPORTED_MODULE_6__.createPopper)(element, wrapperRef.current, {\n          placement: wrapperOptions?.placement ?? placement,\n          modifiers: [\n            {\n              name: \"arrow\",\n              enabled: false\n            },\n            {\n              name: \"offset\",\n              options: {\n                offset: [0, wrapperOffset]\n              }\n            },\n            {\n              name: \"flip\",\n              enabled: false\n            }\n          ],\n          onFirstUpdate: (popperState) => {\n            updateState({ statusWrapper: STATUS.RENDER });\n            if (placement !== popperState.placement) {\n              setTimeout(() => {\n                wrapperPopper.current?.forceUpdate();\n              });\n            }\n          }\n        });\n        if (getPopper) {\n          getPopper(wrapperPopper.current, \"wrapper\");\n        }\n      }\n    }\n  }, [\n    disableFlip,\n    getPopper,\n    hideArrow,\n    modifiers,\n    offset,\n    placement,\n    updateState,\n    wrapperOptions.offset,\n    wrapperOptions?.placement\n  ]);\n  const handleLoad = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(() => {\n    if (popperRef.current) {\n      popperRef.current.forceUpdate();\n    }\n    if (wrapperPopper.current) {\n      wrapperPopper.current.forceUpdate();\n    }\n  });\n  const handleTransitionEnd = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(() => {\n    if (wrapperPopper.current) {\n      wrapperPopper.current.forceUpdate();\n    }\n    updateState(\n      {\n        status: stateRef.current.status === STATUS.OPENING ? STATUS.OPEN : STATUS.IDLE\n      },\n      () => {\n        if (callback) {\n          callback(stateRef.current.status === STATUS.OPEN ? \"open\" : \"close\", enhanceProps(props));\n        }\n      }\n    );\n  });\n  const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boolean(open)) {\n      return;\n    }\n    if (currentEvent === \"click\" || currentEvent === \"hover\" && positionWrapper) {\n      log({\n        title: \"click\",\n        data: [{ event, status: status === STATUS.OPEN ? \"closing\" : \"opening\" }],\n        debug: currentDebug\n      });\n      toggle(status === \"idle\" ? STATUS.RENDER : void 0);\n    }\n  }, [currentDebug, currentEvent, event, open, positionWrapper, status, toggle]);\n  const handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boolean(open) || isMobile() || currentEvent !== \"hover\") {\n      return;\n    }\n    log({\n      title: \"mouseEnter\",\n      data: [{ key: \"originalEvent\", value: event }],\n      debug: currentDebug\n    });\n    if (status === STATUS.IDLE) {\n      clearTimeout(eventDelayTimer.current);\n      eventDelayTimer.current = void 0;\n      toggle(STATUS.RENDER);\n    }\n  }, [currentDebug, currentEvent, event, open, status, toggle]);\n  const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boolean(open) || isMobile()) {\n      return;\n    }\n    if (currentEvent === \"hover\") {\n      log({\n        title: \"mouseLeave\",\n        data: [{ key: \"originalEvent\", value: event }],\n        debug: currentDebug\n      });\n      const hasOpenStatus = [STATUS.OPENING, STATUS.OPEN].includes(status);\n      if (!eventDelay) {\n        toggle(status === STATUS.CLOSING ? STATUS.IDLE : STATUS.CLOSING);\n      } else if (!positionWrapper) {\n        if (hasOpenStatus) {\n          clearTimeout(eventDelayTimer.current);\n          eventDelayTimer.current = window.setTimeout(() => {\n            toggle();\n            eventDelayTimer.current = void 0;\n          }, eventDelay * 1e3);\n        }\n      }\n    }\n  }, [currentDebug, currentEvent, event, eventDelay, open, positionWrapper, status, toggle]);\n  const handleWrapperMount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    if (positionWrapper) {\n      initPopper();\n    }\n  }, [initPopper, positionWrapper]);\n  const cleanUp = () => {\n    if (popperRef.current) {\n      popperRef.current.destroy();\n      popperRef.current = void 0;\n    }\n    if (wrapperPopper.current) {\n      wrapperPopper.current.destroy();\n      wrapperPopper.current = void 0;\n    }\n  };\n  useSingleton(() => {\n    if (canUseDOM()) {\n      window.addEventListener(\"load\", handleLoad.current);\n    }\n  });\n  useMount(() => {\n    isMounted.current = true;\n    log({\n      title: \"init\",\n      data: {\n        hasChildren: !!children,\n        hasTarget: !!target,\n        isControlled: is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boolean(open),\n        positionWrapper,\n        target: targetElement.current(),\n        floater: floaterRef.current\n      },\n      debug: currentDebug\n    });\n    initPopper();\n  });\n  useUnmount(() => {\n    isMounted.current = false;\n    cleanUp();\n    window.removeEventListener(\"load\", handleLoad.current);\n  });\n  useUpdateEffect(() => {\n    if (!canUseDOM()) {\n      return;\n    }\n    if (changedProps(\"open\")) {\n      let forceStatus;\n      if (is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boolean(open)) {\n        forceStatus = open ? STATUS.RENDER : STATUS.CLOSING;\n      }\n      toggle(forceStatus);\n    }\n    if (changedProps(\"wrapperOptions.position\") || changedProps(\"target\")) {\n      updateState({\n        positionWrapper: !!wrapperOptions?.position && !!target\n      });\n    }\n    if (changed(\"status\", STATUS.IDLE) && open || changed(\"status\", STATUS.IDLE, STATUS.INIT) && autoOpen) {\n      toggle(STATUS.RENDER);\n    }\n    if (changed(\"status\", STATUS.RENDER)) {\n      if (popperRef.current) {\n        popperRef.current.destroy();\n      }\n      initPopper();\n    }\n    if (floaterRef.current && changed(\"status\", [STATUS.RENDER, STATUS.CLOSING])) {\n      once(floaterRef.current, \"transitionend\", handleTransitionEnd.current);\n    }\n    if (changed(\"status\", STATUS.IDLE, STATUS.CLOSING) && popperRef.current) {\n      popperRef.current.destroy();\n      popperRef.current = void 0;\n      if (wrapperPopper.current) {\n        wrapperPopper.current.forceUpdate();\n      }\n    }\n  });\n  const wrapper = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    Wrapper_default,\n    {\n      childRef,\n      id: id ?? internalId.current,\n      isControlled: is_lite__WEBPACK_IMPORTED_MODULE_2__[\"default\"].boolean(open),\n      onClick: handleClick,\n      onMount: handleWrapperMount,\n      onMouseEnter: handleMouseEnter,\n      onMouseLeave: handleMouseLeave,\n      status,\n      style,\n      styles: currentStyles.wrapper,\n      wrapperRef,\n      children\n    }\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n      ReactFloaterPortal,\n      {\n        hasChildren: !!children,\n        internalId: internalId.current,\n        placement: currentPlacement,\n        portalElement,\n        target,\n        zIndex: currentStyles.options.zIndex,\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            Floater_default,\n            {\n              arrowRef,\n              component,\n              content,\n              floaterRef,\n              footer,\n              hideArrow: hideArrow || currentPlacement === \"center\",\n              id: id ?? internalId.current,\n              onClick: handleClick,\n              placement: currentPlacement,\n              positionWrapper,\n              showCloseButton,\n              status,\n              styles: currentStyles,\n              title\n            }\n          ),\n          positionWrapper && wrapper\n        ]\n      }\n    ),\n    !positionWrapper && wrapper\n  ] });\n}\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3JlYWN0LWZsb2F0ZXJAMC45LjUtNF9yZWFjdC1kb21AMTkuMS4xX3JlYWN0QDE5LjEuMV9fcmVhY3RAMTkuMS4xL25vZGVfbW9kdWxlcy9yZWFjdC1mbG9hdGVyL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDd0c7QUFDMUQ7QUFDcEI7QUFDcUI7O0FBRS9DO0FBQ3VGOztBQUV2RjtBQUN3QztBQUN4QztBQUNBLFVBQVUsOEJBQThCO0FBQ3hDO0FBQ0EsYUFBYTtBQUNiLElBQUk7QUFDSix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsTUFBTSxHQUFHLEdBQUcsRUFBRSxFQUFFO0FBQ3BDLElBQUk7QUFDSixnQkFBZ0IsRUFBRSxHQUFHLEdBQUcsRUFBRSxNQUFNLE9BQU8sRUFBRTtBQUN6QyxJQUFJO0FBQ0o7QUFDQTtBQUNBLG9CQUFvQixFQUFFLEdBQUcsT0FBTyxJQUFJLEVBQUU7QUFDdEMsSUFBSTtBQUNKO0FBQ0E7QUFDQSxnQkFBZ0IsRUFBRSxHQUFHLEdBQUcsRUFBRSxFQUFFLE9BQU8sTUFBTTtBQUN6QztBQUNBLHlCQUF5QixzREFBRyxXQUFXLDRGQUE0RixzREFBRyxVQUFVLG9HQUFvRyxzREFBRyxjQUFjLHFCQUFxQixHQUFHLEdBQUc7QUFDaFM7O0FBRUE7QUFDdUM7QUFDZDs7QUFFekI7QUFDZ0Q7QUFDaEQsOEJBQThCLGlCQUFpQjtBQUMvQyxVQUFVLGlDQUFpQztBQUMzQyx5QkFBeUIsc0RBQUksYUFBYSxpRkFBaUYsc0RBQUk7QUFDL0g7QUFDQTtBQUNBLGlCQUFpQixPQUFPO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixNQUFNO0FBQ3RCO0FBQ0EsZ0NBQWdDLHNEQUFJLFFBQVEsMEJBQTBCLHNEQUFJO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7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cyI6WyIvaG9tZS9ydW5uZXIvd29ya3NwYWNlL25vZGVfbW9kdWxlcy8ucG5wbS9yZWFjdC1mbG9hdGVyQDAuOS41LTRfcmVhY3QtZG9tQDE5LjEuMV9yZWFjdEAxOS4xLjFfX3JlYWN0QDE5LjEuMS9ub2RlX21vZHVsZXMvcmVhY3QtZmxvYXRlci9kaXN0L2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaW5kZXgudHN4XG5pbXBvcnQgeyB1c2VDYWxsYmFjayBhcyB1c2VDYWxsYmFjazIsIHVzZU1lbW8gYXMgdXNlTWVtbzIsIHVzZVJlZHVjZXIsIHVzZVJlZiBhcyB1c2VSZWYzIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVQb3BwZXIgfSBmcm9tIFwiQHBvcHBlcmpzL2NvcmVcIjtcbmltcG9ydCBpczUgZnJvbSBcImlzLWxpdGVcIjtcbmltcG9ydCB1c2VUcmVlQ2hhbmdlcyBmcm9tIFwidHJlZS1jaGFuZ2VzLWhvb2tcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvRmxvYXRlci9pbmRleC50c3hcbmltcG9ydCB7IGNsb25lRWxlbWVudCwgaXNWYWxpZEVsZW1lbnQgYXMgaXNWYWxpZEVsZW1lbnQyLCBtZW1vLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL0Zsb2F0ZXIvQXJyb3cudHN4XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIEZsb2F0ZXJBcnJvdyhwcm9wcykge1xuICBjb25zdCB7IGFycm93UmVmLCBwbGFjZW1lbnQsIHN0eWxlcyB9ID0gcHJvcHM7XG4gIGNvbnN0IHtcbiAgICBhcnJvdzogeyBjb2xvciwgZGlzcGxheSwgbGVuZ3RoLCBwb3NpdGlvbiwgc3ByZWFkIH1cbiAgfSA9IHN0eWxlcztcbiAgY29uc3QgYXJyb3dTdHlsZXMgPSB7IGRpc3BsYXksIHBvc2l0aW9uIH07XG4gIGxldCBwb2ludHM7XG4gIGxldCB4ID0gc3ByZWFkO1xuICBsZXQgeSA9IGxlbmd0aDtcbiAgaWYgKHBsYWNlbWVudC5zdGFydHNXaXRoKFwidG9wXCIpKSB7XG4gICAgcG9pbnRzID0gYDAsMCAke3ggLyAyfSwke3l9ICR7eH0sMGA7XG4gIH0gZWxzZSBpZiAocGxhY2VtZW50LnN0YXJ0c1dpdGgoXCJib3R0b21cIikpIHtcbiAgICBwb2ludHMgPSBgJHt4fSwke3l9ICR7eCAvIDJ9LDAgMCwke3l9YDtcbiAgfSBlbHNlIGlmIChwbGFjZW1lbnQuc3RhcnRzV2l0aChcImxlZnRcIikpIHtcbiAgICB5ID0gc3ByZWFkO1xuICAgIHggPSBsZW5ndGg7XG4gICAgcG9pbnRzID0gYDAsMCAke3h9LCR7eSAvIDJ9IDAsJHt5fWA7XG4gIH0gZWxzZSBpZiAocGxhY2VtZW50LnN0YXJ0c1dpdGgoXCJyaWdodFwiKSkge1xuICAgIHkgPSBzcHJlYWQ7XG4gICAgeCA9IGxlbmd0aDtcbiAgICBwb2ludHMgPSBgJHt4fSwke3l9ICR7eH0sMCAwLCR7eSAvIDJ9YDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyByZWY6IGFycm93UmVmLCBjbGFzc05hbWU6IFwiX19mbG9hdGVyX19hcnJvd1wiLCBzdHlsZTogYXJyb3dTdHlsZXMsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwic3ZnXCIsIHsgaGVpZ2h0OiB5LCB2ZXJzaW9uOiBcIjEuMVwiLCB3aWR0aDogeCwgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwb2x5Z29uXCIsIHsgZmlsbDogY29sb3IsIHBvaW50cyB9KSB9KSB9KTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvRmxvYXRlci9Db250YWluZXIudHN4XG5pbXBvcnQgeyBpc1ZhbGlkRWxlbWVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IGlzIGZyb20gXCJpcy1saXRlXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL0Zsb2F0ZXIvQ2xvc2VCdXR0b24udHN4XG5pbXBvcnQgeyBqc3ggYXMganN4MiB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gRmxvYXRlckNsb3NlQnV0dG9uKHsgb25DbGljaywgc3R5bGVzIH0pIHtcbiAgY29uc3QgeyBjb2xvciwgaGVpZ2h0LCB3aWR0aCwgLi4uc3R5bGUgfSA9IHN0eWxlcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3gyKFwiYnV0dG9uXCIsIHsgXCJhcmlhLWxhYmVsXCI6IFwiY2xvc2VcIiwgb25DbGljaywgc3R5bGUsIHR5cGU6IFwiYnV0dG9uXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4MihcbiAgICBcInN2Z1wiLFxuICAgIHtcbiAgICAgIGhlaWdodDogYCR7aGVpZ2h0fXB4YCxcbiAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IFwieE1pZFlNaWRcIixcbiAgICAgIHZlcnNpb246IFwiMS4xXCIsXG4gICAgICB2aWV3Qm94OiBcIjAgMCAxOCAxOFwiLFxuICAgICAgd2lkdGg6IGAke3dpZHRofXB4YCxcbiAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeDIoXCJnXCIsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3gyKFxuICAgICAgICBcInBhdGhcIixcbiAgICAgICAge1xuICAgICAgICAgIGQ6IFwiTTguMTM5MTExMjksOS4wMDI2ODE5MSBMMC4xNzE1MjE4MjcsMTcuMDI1ODQ2NyBDLTAuMDQ5ODAyNzA0OSwxNy4yNDg3MTUgLTAuMDQ5ODAyNzA0OSwxNy42MDk4Mzk0IDAuMTcxNTIxODI3LDE3LjgzMjc1NDUgQzAuMjgyMDQzNTQsMTcuOTQ0MzUyNiAwLjQyNzE4ODIwNiwxNy45OTk4NzA2IDAuNTcyMDUxNzY1LDE3Ljk5OTg3MDYgQzAuNzE3MTQ5NTgsMTcuOTk5ODcwNiAwLjg2MjAxMzEzOSwxNy45NDQzNTI2IDAuOTcyNTgxNzAzLDE3LjgzMjc1NDUgTDkuMDAwMDkzNyw5Ljc0OTI0NjE4IEwxNy4wMjc2MDU3LDE3LjgzMjc1NDUgQzE3LjEzODQwODUsMTcuOTQ0MzUyNiAxNy4yODMyNzIxLDE3Ljk5OTg3MDYgMTcuNDI4MTM1NiwxNy45OTk4NzA2IEMxNy41NzI5OTkyLDE3Ljk5OTg3MDYgMTcuNzE4MDk3LDE3Ljk0NDM1MjYgMTcuODI4NjY1NiwxNy44MzI3NTQ1IEMxOC4wNDk5OTAxLDE3LjYwOTg4NjIgMTguMDQ5OTkwMSwxNy4yNDg3NjE4IDE3LjgyODY2NTYsMTcuMDI1ODQ2NyBMOS44NjEzNTcyMiw5LjAwMjY4MTkxIEwxNy44MzQwMDY2LDAuOTczODQ4MjI1IEMxOC4wNTUzMzExLDAuNzUwOTc5OTM0IDE4LjA1NTMzMTEsMC4zODk4NTU1MzIgMTcuODM0MDA2NiwwLjE2Njk0MDM5IEMxNy42MTI2ODIxLC0wLjA1NTY0Njc5NjggMTcuMjU0MDM3LC0wLjA1NTY0Njc5NjggMTcuMDMyOTQ2NywwLjE2Njk0MDM5IEw5LjAwMDQyMTY2LDguMjU2MTE3NjUgTDAuOTY3MDA2NDI0LDAuMTY3MjY4MzQ1IEMwLjc0NTY4MTg5MiwtMC4wNTUzMTg4NDI2IDAuMzg3MzE3OTMxLC0wLjA1NTMxODg0MjYgMC4xNjU5OTMzOTksMC4xNjcyNjgzNDUgQy0wLjA1NTMzMTEzMzEsMC4zOTAxMzY2MzUgLTAuMDU1MzMxMTMzMSwwLjc1MTI2MTAzOCAwLjE2NTk5MzM5OSwwLjk3NDE3NjE3OSBMOC4xMzkyMDQ5OSw5LjAwMjY4MTkxIEw4LjEzOTExMTI5LDkuMDAyNjgxOTEgWlwiLFxuICAgICAgICAgIGZpbGw6IGNvbG9yXG4gICAgICAgIH1cbiAgICAgICkgfSlcbiAgICB9XG4gICkgfSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL0Zsb2F0ZXIvQ29udGFpbmVyLnRzeFxuaW1wb3J0IHsganN4IGFzIGpzeDMsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIEZsb2F0ZXJDb250YWluZXIocHJvcHMpIHtcbiAgY29uc3QgeyBjb250ZW50LCBmb290ZXIsIG9uQ2xpY2ssIG9wZW4sIHBvc2l0aW9uV3JhcHBlciwgc2hvd0Nsb3NlQnV0dG9uLCBzdHlsZXMsIHRpdGxlIH0gPSBwcm9wcztcbiAgY29uc3Qgb3V0cHV0ID0ge1xuICAgIGNvbnRlbnQ6IGlzVmFsaWRFbGVtZW50KGNvbnRlbnQpID8gY29udGVudCA6IC8qIEBfX1BVUkVfXyAqLyBqc3gzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIl9fZmxvYXRlcl9fY29udGVudFwiLCBzdHlsZTogc3R5bGVzLmNvbnRlbnQsIGNoaWxkcmVuOiBjb250ZW50IH0pXG4gIH07XG4gIGlmICh0aXRsZSkge1xuICAgIG91dHB1dC50aXRsZSA9IGlzVmFsaWRFbGVtZW50KHRpdGxlKSA/IHRpdGxlIDogLyogQF9fUFVSRV9fICovIGpzeDMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiX19mbG9hdGVyX190aXRsZVwiLCBzdHlsZTogc3R5bGVzLnRpdGxlLCBjaGlsZHJlbjogdGl0bGUgfSk7XG4gIH1cbiAgaWYgKGZvb3Rlcikge1xuICAgIG91dHB1dC5mb290ZXIgPSBpc1ZhbGlkRWxlbWVudChmb290ZXIpID8gZm9vdGVyIDogLyogQF9fUFVSRV9fICovIGpzeDMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiX19mbG9hdGVyX19mb290ZXJcIiwgc3R5bGU6IHN0eWxlcy5mb290ZXIsIGNoaWxkcmVuOiBmb290ZXIgfSk7XG4gIH1cbiAgaWYgKChzaG93Q2xvc2VCdXR0b24gfHwgcG9zaXRpb25XcmFwcGVyKSAmJiAhaXMuYm9vbGVhbihvcGVuKSkge1xuICAgIG91dHB1dC5jbG9zZSA9IC8qIEBfX1BVUkVfXyAqLyBqc3gzKEZsb2F0ZXJDbG9zZUJ1dHRvbiwgeyBvbkNsaWNrLCBzdHlsZXM6IHN0eWxlcy5jbG9zZSB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiX19mbG9hdGVyX19jb250YWluZXJcIiwgc3R5bGU6IHN0eWxlcy5jb250YWluZXIsIGNoaWxkcmVuOiBbXG4gICAgb3V0cHV0LmNsb3NlLFxuICAgIG91dHB1dC50aXRsZSxcbiAgICBvdXRwdXQuY29udGVudCxcbiAgICBvdXRwdXQuZm9vdGVyXG4gIF0gfSk7XG59XG5cbi8vIHNyYy9saXRlcmFscy50c1xudmFyIFBPU0lUSU9OSU5HX1BST1BTID0gW1wicG9zaXRpb25cIiwgXCJ0b3BcIiwgXCJyaWdodFwiLCBcImJvdHRvbVwiLCBcImxlZnRcIl07XG52YXIgU1RBVFVTID0ge1xuICBJTklUOiBcImluaXRcIixcbiAgSURMRTogXCJpZGxlXCIsXG4gIFJFTkRFUjogXCJyZW5kZXJcIixcbiAgT1BFTklORzogXCJvcGVuaW5nXCIsXG4gIE9QRU46IFwib3BlblwiLFxuICBDTE9TSU5HOiBcImNsb3NpbmdcIixcbiAgRVJST1I6IFwiZXJyb3JcIlxufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvRmxvYXRlci9pbmRleC50c3hcbmltcG9ydCB7IGpzeCBhcyBqc3g0LCBqc3hzIGFzIGpzeHMyIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBGbG9hdGVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjb21wb25lbnQsXG4gICAgY29udGVudCxcbiAgICBmbG9hdGVyUmVmLFxuICAgIGhpZGVBcnJvdyxcbiAgICBpZCxcbiAgICBvbkNsaWNrOiBjbG9zZUZuLFxuICAgIHBsYWNlbWVudCxcbiAgICBzdGF0dXMsXG4gICAgc3R5bGVzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgc3R5bGUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBhcnJvdzogeyBsZW5ndGggfSxcbiAgICAgIGZsb2F0ZXIsXG4gICAgICBmbG9hdGVyQ2VudGVyZWQsXG4gICAgICBmbG9hdGVyQ2xvc2luZyxcbiAgICAgIGZsb2F0ZXJPcGVuaW5nLFxuICAgICAgZmxvYXRlcldpdGhDb21wb25lbnRcbiAgICB9ID0gc3R5bGVzO1xuICAgIGxldCBlbGVtZW50ID0geyAuLi5mbG9hdGVyIH07XG4gICAgaWYgKCFoaWRlQXJyb3cpIHtcbiAgICAgIGlmIChwbGFjZW1lbnQuc3RhcnRzV2l0aChcInRvcFwiKSkge1xuICAgICAgICBlbGVtZW50LnBhZGRpbmcgPSBgMCAwICR7bGVuZ3RofXB4YDtcbiAgICAgIH0gZWxzZSBpZiAocGxhY2VtZW50LnN0YXJ0c1dpdGgoXCJib3R0b21cIikpIHtcbiAgICAgICAgZWxlbWVudC5wYWRkaW5nID0gYCR7bGVuZ3RofXB4IDAgMGA7XG4gICAgICB9IGVsc2UgaWYgKHBsYWNlbWVudC5zdGFydHNXaXRoKFwibGVmdFwiKSkge1xuICAgICAgICBlbGVtZW50LnBhZGRpbmcgPSBgMCAke2xlbmd0aH1weCAwIDBgO1xuICAgICAgfSBlbHNlIGlmIChwbGFjZW1lbnQuc3RhcnRzV2l0aChcInJpZ2h0XCIpKSB7XG4gICAgICAgIGVsZW1lbnQucGFkZGluZyA9IGAwIDAgMCAke2xlbmd0aH1weGA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IFNUQVRVUy5DTE9TSU5HKSB7XG4gICAgICBlbGVtZW50ID0geyAuLi5lbGVtZW50LCAuLi5mbG9hdGVyQ2xvc2luZyB9O1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSBTVEFUVVMuT1BFTklORyB8fCBzdGF0dXMgPT09IFNUQVRVUy5PUEVOKSB7XG4gICAgICBlbGVtZW50ID0geyAuLi5lbGVtZW50LCAuLi5mbG9hdGVyT3BlbmluZyB9O1xuICAgIH1cbiAgICBpZiAocGxhY2VtZW50ID09PSBcImNlbnRlclwiKSB7XG4gICAgICBlbGVtZW50ID0geyAuLi5lbGVtZW50LCAuLi5mbG9hdGVyQ2VudGVyZWQgfTtcbiAgICB9XG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgZWxlbWVudCA9IHsgLi4uZWxlbWVudCwgLi4uZmxvYXRlcldpdGhDb21wb25lbnQgfTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH0sIFtjb21wb25lbnQsIGhpZGVBcnJvdywgcGxhY2VtZW50LCBzdGF0dXMsIHN0eWxlc10pO1xuICBjb25zdCBzaG91bGRSZW5kZXIgPSBbXCJyZW5kZXJcIiwgXCJvcGVuXCIsIFwib3BlbmluZ1wiLCBcImNsb3NpbmdcIl0uaW5jbHVkZXMoc3RhdHVzKTtcbiAgY29uc3Qgb3V0cHV0ID0ge307XG4gIGNvbnN0IGNsYXNzZXMgPSBbXCJfX2Zsb2F0ZXJcIl07XG4gIGNvbnN0IGJhc2VQcm9wcyA9IHsgcm9sZTogXCJ0b29sdGlwXCIgfTtcbiAgaWYgKGNvbXBvbmVudCkge1xuICAgIGNvbnN0IGNvbXBvbmVudFByb3BzID0geyBjbG9zZUZuLCBpZCwgLi4uYmFzZVByb3BzIH07XG4gICAgb3V0cHV0LmNvbnRlbnQgPSBpc1ZhbGlkRWxlbWVudDIoY29tcG9uZW50KSA/IGNsb25lRWxlbWVudChjb21wb25lbnQsIGNvbXBvbmVudFByb3BzKSA6IGNvbXBvbmVudChjb21wb25lbnRQcm9wcyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0LmNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8ganN4NChGbG9hdGVyQ29udGFpbmVyLCB7IC4uLnByb3BzLCBjb250ZW50IH0pO1xuICB9XG4gIGlmIChzdGF0dXMgPT09IFNUQVRVUy5PUEVOKSB7XG4gICAgY2xhc3Nlcy5wdXNoKFwiX19mbG9hdGVyX19vcGVuXCIpO1xuICB9XG4gIGlmICghaGlkZUFycm93KSB7XG4gICAgb3V0cHV0LmFycm93ID0gLyogQF9fUFVSRV9fICovIGpzeDQoRmxvYXRlckFycm93LCB7IC4uLnByb3BzIH0pO1xuICB9XG4gIGlmICghc2hvdWxkUmVuZGVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3g0KFwiZGl2XCIsIHsgcmVmOiBmbG9hdGVyUmVmLCBpZCwgc3R5bGU6IHsgekluZGV4OiBzdHlsZXMub3B0aW9ucy56SW5kZXggfSwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3g0KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbGFzc2VzLmpvaW4oXCIgXCIpLCBzdHlsZSwgLi4uYmFzZVByb3BzLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMyKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcIl9fZmxvYXRlcl9fYm9keVwiLCBjaGlsZHJlbjogW1xuICAgIG91dHB1dC5jb250ZW50LFxuICAgIG91dHB1dC5hcnJvd1xuICBdIH0pIH0pIH0pO1xufVxudmFyIEZsb2F0ZXJfZGVmYXVsdCA9IG1lbW8oRmxvYXRlcik7XG5cbi8vIHNyYy9jb21wb25lbnRzL1BvcnRhbC50c3hcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MiwgdXNlUmVmIGFzIHVzZVJlZjIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCBpczMgZnJvbSBcImlzLWxpdGVcIjtcblxuLy8gc3JjL21vZHVsZXMvaGVscGVycy50c1xuaW1wb3J0IHsgZGVlcG1lcmdlIH0gZnJvbSBcImRlZXBtZXJnZS10c1wiO1xuaW1wb3J0IGlzMiBmcm9tIFwiaXMtbGl0ZVwiO1xudmFyIHBvcnRhbElkID0gXCJyZWFjdC1mbG9hdGVyLXBvcnRhbFwiO1xuZnVuY3Rpb24gY2FuVXNlRE9NKCkge1xuICByZXR1cm4gISEodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuZG9jdW1lbnQ/LmNyZWF0ZUVsZW1lbnQpO1xufVxuZnVuY3Rpb24gZW5oYW5jZVByb3BzKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgYXV0b09wZW46IGZhbHNlLFxuICAgIGRlYnVnOiBmYWxzZSxcbiAgICBkaXNhYmxlRmxpcDogZmFsc2UsXG4gICAgZGlzYWJsZUhvdmVyVG9DbGljazogZmFsc2UsXG4gICAgZXZlbnQ6IFwiY2xpY2tcIixcbiAgICBldmVudERlbGF5OiAwLjQsXG4gICAgaGlkZUFycm93OiBmYWxzZSxcbiAgICBvZmZzZXQ6IDE1LFxuICAgIHBsYWNlbWVudDogXCJib3R0b21cIixcbiAgICBzaG93Q2xvc2VCdXR0b246IGZhbHNlLFxuICAgIHN0eWxlczoge30sXG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIHdyYXBwZXJPcHRpb25zOiB7XG4gICAgICBwb3NpdGlvbjogZmFsc2VcbiAgICB9LFxuICAgIC4uLnByb3BzXG4gIH07XG59XG5mdW5jdGlvbiBnZXRGYWxsYmFja1BsYWNlbWVudHMocGxhY2VtZW50KSB7XG4gIGlmIChwbGFjZW1lbnQuc3RhcnRzV2l0aChcImxlZnRcIikpIHtcbiAgICByZXR1cm4gW1widG9wXCIsIFwiYm90dG9tXCJdO1xuICB9XG4gIGlmIChwbGFjZW1lbnQuc3RhcnRzV2l0aChcInJpZ2h0XCIpKSB7XG4gICAgcmV0dXJuIFtcImJvdHRvbVwiLCBcInRvcFwiXTtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gZ2V0TW9kaWZpZXJzKG1vZGlmaWVycykge1xuICBjb25zdCBkZWZhdWx0T3B0aW9uczIgPSB7XG4gICAgZmxpcDoge1xuICAgICAgbmFtZTogXCJmbGlwXCIsXG4gICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBwYWRkaW5nOiAyMFxuICAgICAgfVxuICAgIH0sXG4gICAgcHJldmVudE92ZXJmbG93OiB7XG4gICAgICBuYW1lOiBcInByZXZlbnRPdmVyZmxvd1wiLFxuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgcGFkZGluZzogMTBcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBkZWVwbWVyZ2UoZGVmYXVsdE9wdGlvbnMyLCBtb2RpZmllcnMgPz8ge30pO1xufVxuZnVuY3Rpb24gaXNGaXhlZChlbCkge1xuICBpZiAoIWVsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHsgbm9kZU5hbWUgfSA9IGVsO1xuICBpZiAobm9kZU5hbWUgPT09IFwiQk9EWVwiIHx8IG5vZGVOYW1lID09PSBcIkhUTUxcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShlbCkucG9zaXRpb24gPT09IFwiZml4ZWRcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBlbC5wYXJlbnROb2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyBpc0ZpeGVkKGVsLnBhcmVudE5vZGUpIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc01vYmlsZSgpIHtcbiAgcmV0dXJuIFwib250b3VjaHN0YXJ0XCIgaW4gd2luZG93ICYmIC9Nb2JpLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xufVxuZnVuY3Rpb24gbG9nKHsgZGF0YSwgZGVidWcgPSBmYWxzZSwgdGl0bGUgfSkge1xuICBjb25zdCBsb2dGbiA9IGNvbnNvbGUubG9nO1xuICBpZiAoZGVidWcgJiYgdGl0bGUgJiYgZGF0YSkge1xuICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoXG4gICAgICBgJWNyZWFjdC1mbG9hdGVyOiAke3RpdGxlfWAsXG4gICAgICBcImNvbG9yOiAjOWIwMGZmOyBmb250LXdlaWdodDogYm9sZDsgZm9udC1zaXplOiAxMnB4O1wiXG4gICAgKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgZGF0YS5mb3JFYWNoKChkKSA9PiB7XG4gICAgICAgIGlmIChpczIucGxhaW5PYmplY3QoZCkgJiYgZC5rZXkpIHtcbiAgICAgICAgICBsb2dGbi5hcHBseShjb25zb2xlLCBbZC5rZXksIGQudmFsdWVdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dGbi5hcHBseShjb25zb2xlLCBbZF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nRm4uYXBwbHkoY29uc29sZSwgW2RhdGFdKTtcbiAgICB9XG4gICAgY29uc29sZS5ncm91cEVuZCgpO1xuICB9XG59XG5mdW5jdGlvbiBtZXJnZU1vZGlmaWVyKG1vZGlmaWVyLCBjdXN0b21Nb2RpZmllcikge1xuICByZXR1cm4gZGVlcG1lcmdlKG1vZGlmaWVyLCBjdXN0b21Nb2RpZmllciA/PyB7fSk7XG59XG5mdW5jdGlvbiBvZmYoZWxlbWVudCwgZXZlbnRUeXBlLCBoYW5kbGVyLCBvcHRpb25zID0gZmFsc2UpIHtcbiAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBvbihlbGVtZW50LCBldmVudFR5cGUsIGhhbmRsZXIsIG9wdGlvbnMgPSBmYWxzZSkge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIG9uY2UoZWxlbWVudCwgZXZlbnRUeXBlLCBoYW5kbGVyLCBvcHRpb25zID0gZmFsc2UpIHtcbiAgbGV0IG5leHRDQjtcbiAgbmV4dENCID0gKGV2ZW50KSA9PiB7XG4gICAgaGFuZGxlcihldmVudCk7XG4gICAgb2ZmKGVsZW1lbnQsIGV2ZW50VHlwZSwgbmV4dENCKTtcbiAgfTtcbiAgb24oZWxlbWVudCwgZXZlbnRUeXBlLCBuZXh0Q0IsIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmFuZG9tSWQoKSB7XG4gIHJldHVybiBgcmYtJHtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxZTUpfWA7XG59XG5cbi8vIHNyYy9tb2R1bGVzL2hvb2tzLnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlRWZmZWN0T25jZShlZmZlY3QpIHtcbiAgdXNlRWZmZWN0KGVmZmVjdCwgW10pO1xufVxuZnVuY3Rpb24gdXNlTW91bnQoZWZmZWN0KSB7XG4gIHVzZUVmZmVjdE9uY2UoZWZmZWN0KTtcbn1cbmZ1bmN0aW9uIHVzZVNpbmdsZXRvbihjYWxsYmFjaykge1xuICBjb25zdCBoYXNCZWVuQ2FsbGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgaWYgKGhhc0JlZW5DYWxsZWQuY3VycmVudCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjYWxsYmFjaygpO1xuICBoYXNCZWVuQ2FsbGVkLmN1cnJlbnQgPSB0cnVlO1xufVxuZnVuY3Rpb24gdXNlVW5tb3VudChmbikge1xuICBjb25zdCBmblJlZiA9IHVzZVJlZihmbik7XG4gIGZuUmVmLmN1cnJlbnQgPSBmbjtcbiAgdXNlRWZmZWN0T25jZSgoKSA9PiAoKSA9PiBmblJlZi5jdXJyZW50KCkpO1xufVxuZnVuY3Rpb24gdXNlVXBkYXRlRWZmZWN0KGVmZmVjdCwgZGVwcykge1xuICBjb25zdCBpc0ZpcnN0ID0gdXNlUmVmKHRydWUpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghaXNGaXJzdC5jdXJyZW50KSB7XG4gICAgICBlZmZlY3QoKTtcbiAgICB9XG4gIH0sIGRlcHMpO1xuICBpZiAoaXNGaXJzdC5jdXJyZW50KSB7XG4gICAgaXNGaXJzdC5jdXJyZW50ID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvUG9ydGFsLnRzeFxuZnVuY3Rpb24gUmVhY3RGbG9hdGVyUG9ydGFsKHByb3BzKSB7XG4gIGNvbnN0IHsgY2hpbGRyZW4sIGhhc0NoaWxkcmVuLCBpbnRlcm5hbElkLCBwbGFjZW1lbnQsIHBvcnRhbEVsZW1lbnQsIHRhcmdldCwgekluZGV4IH0gPSBwcm9wcztcbiAgY29uc3Qgbm9kZSA9IHVzZVJlZjIobnVsbCk7XG4gIGNvbnN0IGluaXRpYWxpemUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFjYW5Vc2VET00oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocG9ydGFsRWxlbWVudCkge1xuICAgICAgbm9kZS5jdXJyZW50ID0gaXMzLnN0cmluZyhwb3J0YWxFbGVtZW50KSA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9ydGFsRWxlbWVudCkgOiBwb3J0YWxFbGVtZW50O1xuICAgIH1cbiAgICBpZiAoIXBvcnRhbEVsZW1lbnQgfHwgIW5vZGUuY3VycmVudCkge1xuICAgICAgY29uc3QgcG9ydGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocG9ydGFsSWQpO1xuICAgICAgaWYgKHBvcnRhbCkge1xuICAgICAgICBjb25zdCBpZHMgPSBwb3J0YWwuZGF0YXNldC5pZHM/LnNwbGl0KFwiLFwiKS5maWx0ZXIoQm9vbGVhbikgPz8gW107XG4gICAgICAgIGlmICghaWRzLmluY2x1ZGVzKGludGVybmFsSWQpICYmIGludGVybmFsSWQpIHtcbiAgICAgICAgICBpZHMucHVzaChpbnRlcm5hbElkKTtcbiAgICAgICAgfVxuICAgICAgICBwb3J0YWwuZGF0YXNldC5pZHMgPSBpZHMuam9pbihcIixcIik7XG4gICAgICAgIG5vZGUuY3VycmVudCA9IHBvcnRhbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuY3VycmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5vZGUuY3VycmVudC5pZCA9IHBvcnRhbElkO1xuICAgICAgICBub2RlLmN1cnJlbnQuZGF0YXNldC5pZHMgPSBpbnRlcm5hbElkO1xuICAgICAgICBub2RlLmN1cnJlbnQuc3R5bGUuekluZGV4ID0gYCR7ekluZGV4fWA7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9kZS5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwb3J0YWxFbGVtZW50ICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3J0YWxJZCkpIHtcbiAgICAgIGlmIChub2RlLmN1cnJlbnQpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChub2RlLmN1cnJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2ludGVybmFsSWQsIHBvcnRhbEVsZW1lbnQsIHpJbmRleF0pO1xuICB1c2VNb3VudCgoKSA9PiB7XG4gICAgaWYgKCFjYW5Vc2VET00pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpO1xuICB9KTtcbiAgdXNlRWZmZWN0MigoKSA9PiB7XG4gICAgaW5pdGlhbGl6ZSgpO1xuICB9LCBbaW5pdGlhbGl6ZV0pO1xuICB1c2VVbm1vdW50KCgpID0+IHtcbiAgICBpZiAoIWNhblVzZURPTSgpIHx8ICFub2RlLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGlmIChub2RlLmN1cnJlbnQuaWQgPT09IHBvcnRhbElkKSB7XG4gICAgICAgIGNvbnN0IGlkcyA9IG5vZGUuY3VycmVudC5kYXRhc2V0Lmlkcz8uc3BsaXQoXCIsXCIpID8/IFtdO1xuICAgICAgICBpZiAoaWRzLmluY2x1ZGVzKGludGVybmFsSWQpKSB7XG4gICAgICAgICAgbm9kZS5jdXJyZW50LmRhdGFzZXQuaWRzID0gaWRzLmZpbHRlcigoaWQpID0+IGlkICE9PSBpbnRlcm5hbElkKS5qb2luKFwiLFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChub2RlLmN1cnJlbnQpO1xuICAgICAgICAgIG5vZGUuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIHtcbiAgICAgIG5vZGUuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICB9KTtcbiAgaWYgKG5vZGUuY3VycmVudCkge1xuICAgIGlmICghaGFzQ2hpbGRyZW4gJiYgIXRhcmdldCAmJiBwbGFjZW1lbnQgIT09IFwiY2VudGVyXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlUG9ydGFsKGNoaWxkcmVuLCBub2RlLmN1cnJlbnQpO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9XcmFwcGVyLnRzeFxuaW1wb3J0IHtcbiAgQ2hpbGRyZW4sXG4gIGNsb25lRWxlbWVudCBhcyBjbG9uZUVsZW1lbnQyLFxuICBGcmFnbWVudCxcbiAgaXNWYWxpZEVsZW1lbnQgYXMgaXNWYWxpZEVsZW1lbnQzLFxuICBtZW1vIGFzIG1lbW8yXG59IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IGlzNCBmcm9tIFwiaXMtbGl0ZVwiO1xuaW1wb3J0IHsganN4IGFzIGpzeDUgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIEZsb2F0ZXJXcmFwcGVyKHByb3BzKSB7XG4gIGNvbnN0IHtcbiAgICBjaGlsZFJlZixcbiAgICBjaGlsZHJlbixcbiAgICBpZCxcbiAgICBpc0NvbnRyb2xsZWQsXG4gICAgb25DbGljayxcbiAgICBvbk1vdW50LFxuICAgIG9uTW91c2VFbnRlcixcbiAgICBvbk1vdXNlTGVhdmUsXG4gICAgc3RhdHVzLFxuICAgIHN0eWxlLFxuICAgIHN0eWxlcyxcbiAgICB3cmFwcGVyUmVmXG4gIH0gPSBwcm9wcztcbiAgdXNlTW91bnQoKCkgPT4ge1xuICAgIG9uTW91bnQoKTtcbiAgfSk7XG4gIGxldCBlbGVtZW50ID0gbnVsbDtcbiAgY29uc3QgbWVyZ2VkU3R5bGVzID0ge1xuICAgIC4uLnN0eWxlcyxcbiAgICAuLi5zdHlsZSxcbiAgICAuLi5pc1ZhbGlkRWxlbWVudDMoY2hpbGRyZW4pID8gY2hpbGRyZW4ucHJvcHMuc3R5bGUgOiB2b2lkIDBcbiAgfTtcbiAgY29uc3Qgd3JhcHBlcklkID0gYCR7aWR9LXdyYXBwZXJgO1xuICBsZXQgd3JhcHBlclByb3BzID0ge1xuICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiBbU1RBVFVTLk9QRU5JTkcsIFNUQVRVUy5PUEVOLCBTVEFUVVMuQ0xPU0lOR10uaW5jbHVkZXMoXG4gICAgICBzdGF0dXNcbiAgICApID8gaWQgOiB2b2lkIDAsXG4gICAgc3R5bGU6IG1lcmdlZFN0eWxlc1xuICB9O1xuICBpZiAoIWlzQ29udHJvbGxlZCkge1xuICAgIHdyYXBwZXJQcm9wcyA9IHtcbiAgICAgIC4uLndyYXBwZXJQcm9wcyxcbiAgICAgIG9uQ2xpY2ssXG4gICAgICBvbk1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlTGVhdmVcbiAgICB9O1xuICB9XG4gIGlmIChjaGlsZHJlbikge1xuICAgIGlmIChDaGlsZHJlbi5jb3VudChjaGlsZHJlbikgPT09IDEgJiYgaXNWYWxpZEVsZW1lbnQzKGNoaWxkcmVuKSAmJiBjaGlsZHJlbi50eXBlICE9PSBGcmFnbWVudCkge1xuICAgICAgZWxlbWVudCA9IGlzNC5mdW5jdGlvbihjaGlsZHJlbi50eXBlKSA/IC8qIEBfX1BVUkVfXyAqLyBqc3g1KFwic3BhblwiLCB7IHJlZjogd3JhcHBlclJlZiwgaWQ6IHdyYXBwZXJJZCwgLi4ud3JhcHBlclByb3BzLCBjaGlsZHJlbjogY2xvbmVFbGVtZW50MihDaGlsZHJlbi5vbmx5KGNoaWxkcmVuKSwge1xuICAgICAgICBpbm5lclJlZjogY2hpbGRSZWZcbiAgICAgIH0pIH0pIDogY2xvbmVFbGVtZW50MihDaGlsZHJlbi5vbmx5KGNoaWxkcmVuKSwge1xuICAgICAgICBpZDogd3JhcHBlcklkLFxuICAgICAgICByZWY6IHdyYXBwZXJSZWYsXG4gICAgICAgIC4uLndyYXBwZXJQcm9wc1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQgPSAvKiBAX19QVVJFX18gKi8ganN4NShcInNwYW5cIiwgeyByZWY6IHdyYXBwZXJSZWYsIGlkOiB3cmFwcGVySWQsIC4uLndyYXBwZXJQcm9wcywgY2hpbGRyZW4gfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBlbGVtZW50O1xufVxudmFyIFdyYXBwZXJfZGVmYXVsdCA9IG1lbW8yKEZsb2F0ZXJXcmFwcGVyKTtcblxuLy8gc3JjL21vZHVsZXMvc3R5bGVzLnRzXG5pbXBvcnQgeyBkZWVwbWVyZ2UgYXMgZGVlcG1lcmdlMiB9IGZyb20gXCJkZWVwbWVyZ2UtdHNcIjtcbnZhciBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgekluZGV4OiAxMDBcbn07XG5mdW5jdGlvbiBnZXRTdHlsZXMoc3R5bGVzKSB7XG4gIGNvbnN0IHsgb3B0aW9ucyA9IHt9LCAuLi5yZXN0IH0gPSBzdHlsZXMgPz8ge307XG4gIHJldHVybiBkZWVwbWVyZ2UyKFxuICAgIHtcbiAgICAgIGFycm93OiB7XG4gICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgICBsZW5ndGg6IDE2LFxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICBzcHJlYWQ6IDMyXG4gICAgICB9LFxuICAgICAgY2xvc2U6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgIGJvcmRlcjogMCxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAwLFxuICAgICAgICBjb2xvcjogXCIjNTU1XCIsXG4gICAgICAgIGZvbnRTaXplOiAwLFxuICAgICAgICBoZWlnaHQ6IDE1LFxuICAgICAgICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIHdpZHRoOiAxNSxcbiAgICAgICAgV2Via2l0QXBwZWFyYW5jZTogXCJub25lXCJcbiAgICAgIH0sXG4gICAgICBjb250YWluZXI6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgY29sb3I6IFwiIzY2NlwiLFxuICAgICAgICBtaW5IZWlnaHQ6IDYwLFxuICAgICAgICBtaW5XaWR0aDogMjAwLFxuICAgICAgICBwYWRkaW5nOiAyMCxcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgekluZGV4OiAxMFxuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgZm9udFNpemU6IDE1XG4gICAgICB9LFxuICAgICAgZm9vdGVyOiB7XG4gICAgICAgIGJvcmRlclRvcDogXCIxcHggc29saWQgI2NjY1wiLFxuICAgICAgICBmb250U2l6ZTogMTMsXG4gICAgICAgIG1hcmdpblRvcDogMTAsXG4gICAgICAgIHBhZGRpbmdUb3A6IDVcbiAgICAgIH0sXG4gICAgICBmbG9hdGVyOiB7XG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgIGZpbHRlcjogXCJkcm9wLXNoYWRvdygwIDAgM3B4IHJnYmEoMCwgMCwgMCwgMC4zKSlcIixcbiAgICAgICAgbWF4V2lkdGg6IDMwMCxcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgdHJhbnNpdGlvbjogXCJvcGFjaXR5IDAuM3NcIixcbiAgICAgICAgdmlzaWJpbGl0eTogXCJoaWRkZW5cIixcbiAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleFxuICAgICAgfSxcbiAgICAgIGZsb2F0ZXJDZW50ZXJlZDoge1xuICAgICAgICBsZWZ0OiBcIjUwJVwiLFxuICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICB0b3A6IFwiNTAlXCIsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIlxuICAgICAgfSxcbiAgICAgIGZsb2F0ZXJDbG9zaW5nOiB7XG4gICAgICAgIG9wYWNpdHk6IDAsXG4gICAgICAgIHZpc2liaWxpdHk6IFwidmlzaWJsZVwiXG4gICAgICB9LFxuICAgICAgZmxvYXRlck9wZW5pbmc6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJcbiAgICAgIH0sXG4gICAgICBmbG9hdGVyV2l0aENvbXBvbmVudDoge1xuICAgICAgICBtYXhXaWR0aDogXCIxMDAlXCJcbiAgICAgIH0sXG4gICAgICB0aXRsZToge1xuICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICM1NTVcIixcbiAgICAgICAgY29sb3I6IFwiIzU1NVwiLFxuICAgICAgICBmb250U2l6ZTogMTgsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogNSxcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogNixcbiAgICAgICAgcGFkZGluZ1JpZ2h0OiAxOFxuICAgICAgfSxcbiAgICAgIHdyYXBwZXI6IHtcbiAgICAgICAgY3Vyc29yOiBcImhlbHBcIixcbiAgICAgICAgekluZGV4OiBvcHRpb25zLnpJbmRleFxuICAgICAgfSxcbiAgICAgIHdyYXBwZXJQb3NpdGlvbjoge1xuICAgICAgICBsZWZ0OiAtMWUzLFxuICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICB0b3A6IC0xZTMsXG4gICAgICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCJcbiAgICAgIH0sXG4gICAgICBvcHRpb25zOiBkZWVwbWVyZ2UyKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKVxuICAgIH0sXG4gICAgcmVzdFxuICApO1xufVxuXG4vLyBzcmMvaW5kZXgudHN4XG5pbXBvcnQgeyBGcmFnbWVudCBhcyBGcmFnbWVudDIsIGpzeCBhcyBqc3g2LCBqc3hzIGFzIGpzeHMzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBSZWFjdEZsb2F0ZXIocHJvcHMpIHtcbiAgY29uc3Qge1xuICAgIGF1dG9PcGVuID0gZmFsc2UsXG4gICAgY2FsbGJhY2ssXG4gICAgY2hpbGRyZW4sXG4gICAgY29tcG9uZW50LFxuICAgIGNvbnRlbnQsXG4gICAgZGVidWcgPSBmYWxzZSxcbiAgICBkaXNhYmxlRmxpcCA9IGZhbHNlLFxuICAgIGRpc2FibGVIb3ZlclRvQ2xpY2sgPSBmYWxzZSxcbiAgICBldmVudCA9IFwiY2xpY2tcIixcbiAgICBldmVudERlbGF5ID0gMC40LFxuICAgIGZvb3RlcixcbiAgICBnZXRQb3BwZXIsXG4gICAgaGlkZUFycm93ID0gZmFsc2UsXG4gICAgaWQsXG4gICAgbW9kaWZpZXJzLFxuICAgIG9mZnNldCA9IDE1LFxuICAgIG9wZW4sXG4gICAgcGxhY2VtZW50ID0gXCJib3R0b21cIixcbiAgICBwb3J0YWxFbGVtZW50LFxuICAgIHNob3dDbG9zZUJ1dHRvbiA9IGZhbHNlLFxuICAgIHN0eWxlLFxuICAgIHN0eWxlcyxcbiAgICB0YXJnZXQsXG4gICAgdGl0bGUsXG4gICAgd3JhcHBlck9wdGlvbnNcbiAgfSA9IGVuaGFuY2VQcm9wcyhwcm9wcyk7XG4gIGNvbnN0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlUmVkdWNlcihcbiAgICAocHJldmlvdXNTdGF0ZSwgbmV4dFN0YXRlKSA9PiAoe1xuICAgICAgLi4ucHJldmlvdXNTdGF0ZSxcbiAgICAgIC4uLm5leHRTdGF0ZVxuICAgIH0pLFxuICAgIHtcbiAgICAgIGN1cnJlbnRQbGFjZW1lbnQ6IHBsYWNlbWVudCxcbiAgICAgIHBvc2l0aW9uV3JhcHBlcjogISF3cmFwcGVyT3B0aW9ucz8ucG9zaXRpb24gJiYgISF0YXJnZXQsXG4gICAgICBzdGF0dXM6IFNUQVRVUy5JTklULFxuICAgICAgc3RhdHVzV3JhcHBlcjogU1RBVFVTLklOSVRcbiAgICB9XG4gICk7XG4gIGNvbnN0IGFycm93UmVmID0gdXNlUmVmMyhudWxsKTtcbiAgY29uc3QgY2hpbGRSZWYgPSB1c2VSZWYzKG51bGwpO1xuICBjb25zdCBldmVudERlbGF5VGltZXIgPSB1c2VSZWYzKCk7XG4gIGNvbnN0IGZsb2F0ZXJSZWYgPSB1c2VSZWYzKG51bGwpO1xuICBjb25zdCBpbnRlcm5hbElkID0gdXNlUmVmMyhyYW5kb21JZCgpKTtcbiAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmMyhmYWxzZSk7XG4gIGNvbnN0IHBvcHBlclJlZiA9IHVzZVJlZjMoKTtcbiAgY29uc3Qgc3RhdGVSZWYgPSB1c2VSZWYzKHN0YXRlKTtcbiAgY29uc3Qgd3JhcHBlclBvcHBlciA9IHVzZVJlZjMoKTtcbiAgY29uc3Qgd3JhcHBlclJlZiA9IHVzZVJlZjMobnVsbCk7XG4gIGNvbnN0IHdyYXBwZXJTdHlsZXMgPSB1c2VSZWYzKHt9KTtcbiAgY29uc3QgeyBjdXJyZW50UGxhY2VtZW50LCBwb3NpdGlvbldyYXBwZXIsIHN0YXR1cywgc3RhdHVzV3JhcHBlciB9ID0gc3RhdGU7XG4gIGNvbnN0IHsgY2hhbmdlZCB9ID0gdXNlVHJlZUNoYW5nZXMoc3RhdGUpO1xuICBjb25zdCB7IGNoYW5nZWQ6IGNoYW5nZWRQcm9wcyB9ID0gdXNlVHJlZUNoYW5nZXMocHJvcHMpO1xuICBjb25zdCB1cGRhdGVTdGF0ZSA9IHVzZUNhbGxiYWNrMihcbiAgICAobmV4dFN0YXRlLCBjYWxsYmFja18pID0+IHtcbiAgICAgIGlmIChpc01vdW50ZWQuY3VycmVudCkge1xuICAgICAgICBzZXRTdGF0ZShuZXh0U3RhdGUpO1xuICAgICAgICBzdGF0ZVJlZi5jdXJyZW50ID0geyAuLi5zdGF0ZSwgLi4ubmV4dFN0YXRlIH07XG4gICAgICAgIGlmIChjYWxsYmFja18pIHtcbiAgICAgICAgICBjYWxsYmFja18oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW3NldFN0YXRlLCBzdGF0ZV1cbiAgKTtcbiAgY29uc3QgdG9nZ2xlID0gdXNlQ2FsbGJhY2syKFxuICAgIChmb3JjZVN0YXR1cykgPT4ge1xuICAgICAgbGV0IG5leHRTdGF0dXMgPSBzdGF0ZVJlZi5jdXJyZW50LnN0YXR1cyA9PT0gU1RBVFVTLk9QRU4gPyBTVEFUVVMuQ0xPU0lORyA6IFNUQVRVUy5SRU5ERVI7XG4gICAgICBpZiAoIWlzNS51bmRlZmluZWQoZm9yY2VTdGF0dXMpKSB7XG4gICAgICAgIG5leHRTdGF0dXMgPSBmb3JjZVN0YXR1cztcbiAgICAgIH1cbiAgICAgIHVwZGF0ZVN0YXRlKHtcbiAgICAgICAgc3RhdHVzOiBuZXh0U3RhdHVzLFxuICAgICAgICBzdGF0dXNXcmFwcGVyOiBuZXh0U3RhdHVzID09PSBTVEFUVVMuQ0xPU0lORyA/IFNUQVRVUy5SRU5ERVIgOiBTVEFUVVMuSURMRVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbdXBkYXRlU3RhdGVdXG4gICk7XG4gIGNvbnN0IHRhcmdldEVsZW1lbnQgPSB1c2VSZWYzKCgpID0+IHtcbiAgICBpZiAoIWNhblVzZURPTSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgaWYgKGlzNS5kb21FbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybiBjaGlsZFJlZi5jdXJyZW50ID8/IHdyYXBwZXJSZWYuY3VycmVudDtcbiAgfSk7XG4gIGNvbnN0IGN1cnJlbnREZWJ1ZyA9IHVzZU1lbW8yKCgpID0+IHtcbiAgICByZXR1cm4gY2FuVXNlRE9NKCkgJiYgKGRlYnVnIHx8ICEhd2luZG93LlJlYWN0RmxvYXRlckRlYnVnKTtcbiAgfSwgW2RlYnVnXSk7XG4gIGNvbnN0IGN1cnJlbnRFdmVudCA9IHVzZU1lbW8yKCgpID0+IHtcbiAgICBpZiAoZXZlbnQgPT09IFwiaG92ZXJcIiAmJiBpc01vYmlsZSgpICYmICFkaXNhYmxlSG92ZXJUb0NsaWNrKSB7XG4gICAgICByZXR1cm4gXCJjbGlja1wiO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQ7XG4gIH0sIFtkaXNhYmxlSG92ZXJUb0NsaWNrLCBldmVudF0pO1xuICBjb25zdCBjdXJyZW50U3R5bGVzID0gdXNlTWVtbzIoKCkgPT4ge1xuICAgIGNvbnN0IG5leHRTdHlsZXMgPSBnZXRTdHlsZXMoc3R5bGVzKTtcbiAgICBjb25zdCBlbGVtZW50ID0gdGFyZ2V0RWxlbWVudC5jdXJyZW50KCk7XG4gICAgaWYgKHBvc2l0aW9uV3JhcHBlcikge1xuICAgICAgbGV0IHdyYXBwZXJDdXJyZW50U3R5bGVzO1xuICAgICAgaWYgKHN0YXR1cyAhPT0gU1RBVFVTLklETEUpIHtcbiAgICAgICAgd3JhcHBlckN1cnJlbnRTdHlsZXMgPSBuZXh0U3R5bGVzLndyYXBwZXJQb3NpdGlvbjtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdHVzV3JhcHBlciA9PT0gU1RBVFVTLlJFTkRFUikge1xuICAgICAgICB3cmFwcGVyQ3VycmVudFN0eWxlcyA9IHdyYXBwZXJQb3BwZXIuY3VycmVudD8uc3RhdGUuc3R5bGVzO1xuICAgICAgfVxuICAgICAgbmV4dFN0eWxlcy53cmFwcGVyID0ge1xuICAgICAgICAuLi5uZXh0U3R5bGVzLndyYXBwZXIsXG4gICAgICAgIC4uLndyYXBwZXJDdXJyZW50U3R5bGVzXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgY29uc3QgdGFyZ2V0U3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICBpZiAod3JhcHBlclN0eWxlcy5jdXJyZW50KSB7XG4gICAgICAgIG5leHRTdHlsZXMud3JhcHBlciA9IHtcbiAgICAgICAgICAuLi5uZXh0U3R5bGVzLndyYXBwZXIsXG4gICAgICAgICAgLi4ud3JhcHBlclN0eWxlcy5jdXJyZW50XG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKCFbXCJyZWxhdGl2ZVwiLCBcInN0YXRpY1wiXS5pbmNsdWRlcyh0YXJnZXRTdHlsZXMucG9zaXRpb24pKSB7XG4gICAgICAgIHdyYXBwZXJTdHlsZXMuY3VycmVudCA9IHt9O1xuICAgICAgICBpZiAoIXBvc2l0aW9uV3JhcHBlcikge1xuICAgICAgICAgIFBPU0lUSU9OSU5HX1BST1BTLmZvckVhY2goKGQpID0+IHtcbiAgICAgICAgICAgIGlmIChkID09PSBcInBvc2l0aW9uXCIpIHtcbiAgICAgICAgICAgICAgd3JhcHBlclN0eWxlcy5jdXJyZW50W2RdID0gdGFyZ2V0U3R5bGVzW2RdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgd3JhcHBlclN0eWxlcy5jdXJyZW50W2RdID0gdGFyZ2V0U3R5bGVzW2RdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5leHRTdHlsZXMud3JhcHBlciA9IHtcbiAgICAgICAgICAgIC4uLm5leHRTdHlsZXMud3JhcHBlcixcbiAgICAgICAgICAgIC4uLndyYXBwZXJTdHlsZXMuY3VycmVudFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5leHRTdHlsZXM7XG4gIH0sIFtwb3NpdGlvbldyYXBwZXIsIHN0YXR1cywgc3RhdHVzV3JhcHBlciwgc3R5bGVzXSk7XG4gIGNvbnN0IGluaXRQb3BwZXIgPSB1c2VDYWxsYmFjazIoKCkgPT4ge1xuICAgIGNvbnN0IG5leHRTdGF0dXMgPSBzdGF0ZVJlZi5jdXJyZW50LnN0YXR1cyA9PT0gU1RBVFVTLlJFTkRFUiA/IFNUQVRVUy5PUEVOSU5HIDogU1RBVFVTLklETEU7XG4gICAgY29uc3QgZWxlbWVudCA9IHRhcmdldEVsZW1lbnQuY3VycmVudCgpO1xuICAgIGlmIChwbGFjZW1lbnQgPT09IFwiY2VudGVyXCIpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB1cGRhdGVTdGF0ZSh7IHN0YXR1czogbmV4dFN0YXR1cyB9KTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50KSB7XG4gICAgICBpZiAoZmxvYXRlclJlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnN0IHsgYXJyb3csIGZsaXAsIG9mZnNldDogb2Zmc2V0TW9kaWZpZXIsIC4uLnJlc3QgfSA9IGdldE1vZGlmaWVycyhtb2RpZmllcnMpO1xuICAgICAgICBwb3BwZXJSZWYuY3VycmVudCA9IGNyZWF0ZVBvcHBlcihlbGVtZW50LCBmbG9hdGVyUmVmLmN1cnJlbnQsIHtcbiAgICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgICAgc3RyYXRlZ3k6IGlzRml4ZWQodGFyZ2V0RWxlbWVudC5jdXJyZW50KCkpID8gXCJmaXhlZFwiIDogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgIG1vZGlmaWVyczogW1xuICAgICAgICAgICAgbWVyZ2VNb2RpZmllcihcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXJyb3dcIixcbiAgICAgICAgICAgICAgICBlbmFibGVkOiAhaGlkZUFycm93LFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGFycm93UmVmLmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiA4XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhcnJvd1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG1lcmdlTW9kaWZpZXIoXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImZsaXBcIixcbiAgICAgICAgICAgICAgICBlbmFibGVkOiAhZGlzYWJsZUZsaXAsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgYWx0QXhpczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBmYWxsYmFja1BsYWNlbWVudHM6IGdldEZhbGxiYWNrUGxhY2VtZW50cyhwbGFjZW1lbnQgfHwgXCJib3R0b21cIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZsaXBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBtZXJnZU1vZGlmaWVyKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvZmZzZXRcIixcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgIG9mZnNldDogWzAsIG9mZnNldF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG9mZnNldE1vZGlmaWVyXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcInVwZGF0ZVBsYWNlbWVudFwiLFxuICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICBwaGFzZTogXCJhZnRlcldyaXRlXCIsXG4gICAgICAgICAgICAgIGZuOiAoeyBpbnN0YW5jZSwgc3RhdGU6IHBvcHBlclN0YXRlIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocG9wcGVyU3RhdGUucGxhY2VtZW50ICE9PSBzdGF0ZVJlZi5jdXJyZW50LmN1cnJlbnRQbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgIHBvcHBlclJlZi5jdXJyZW50ID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVTdGF0ZSh7IGN1cnJlbnRQbGFjZW1lbnQ6IHBvcHBlclN0YXRlLnBsYWNlbWVudCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwiYXBwbHlBcnJvd1N0eWxlXCIsXG4gICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgIHBoYXNlOiBcIndyaXRlXCIsXG4gICAgICAgICAgICAgIGZuOiAoeyBzdGF0ZTogcG9wcGVyU3RhdGUgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRzOiB7IGFycm93OiBzdGF0ZUFycm93IH0sXG4gICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHN0YXRlUGxhY2VtZW50XG4gICAgICAgICAgICAgICAgfSA9IHBvcHBlclN0YXRlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZUFycm93KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoc3RhdGVQbGFjZW1lbnQuc3RhcnRzV2l0aChcInRvcFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZUFycm93LnN0eWxlLmJvdHRvbSA9IFwiMHB4XCI7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlQXJyb3cuc3R5bGUucmlnaHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZVBsYWNlbWVudC5zdGFydHNXaXRoKFwiYm90dG9tXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlQXJyb3cuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGVBcnJvdy5zdHlsZS5yaWdodCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlUGxhY2VtZW50LnN0YXJ0c1dpdGgoXCJsZWZ0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlQXJyb3cuc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZUFycm93LnN0eWxlLmJvdHRvbSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlUGxhY2VtZW50LnN0YXJ0c1dpdGgoXCJyaWdodFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZUFycm93LnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZUFycm93LnN0eWxlLmJvdHRvbSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLi4uT2JqZWN0LnZhbHVlcyhyZXN0KVxuICAgICAgICAgIF0sXG4gICAgICAgICAgb25GaXJzdFVwZGF0ZTogKHBvcHBlclN0YXRlKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVTdGF0ZSh7XG4gICAgICAgICAgICAgIGN1cnJlbnRQbGFjZW1lbnQ6IHBvcHBlclN0YXRlLnBsYWNlbWVudCxcbiAgICAgICAgICAgICAgc3RhdHVzOiBuZXh0U3RhdHVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwbGFjZW1lbnQgIT09IHBvcHBlclN0YXRlLnBsYWNlbWVudCkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBwb3BwZXJSZWYuY3VycmVudD8uZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGdldFBvcHBlciAmJiBwb3BwZXJSZWYuY3VycmVudCkge1xuICAgICAgICAgIGdldFBvcHBlcihwb3BwZXJSZWYuY3VycmVudCwgXCJmbG9hdGVyXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVTdGF0ZSh7XG4gICAgICAgICAgc3RhdHVzOiBTVEFUVVMuSURMRVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh3cmFwcGVyUmVmLmN1cnJlbnQgJiYgIXdyYXBwZXJQb3BwZXIuY3VycmVudCAmJiBzdGF0ZVJlZi5jdXJyZW50LnBvc2l0aW9uV3JhcHBlcikge1xuICAgICAgICBjb25zdCB3cmFwcGVyT2Zmc2V0ID0gd3JhcHBlck9wdGlvbnM/Lm9mZnNldCA/IHdyYXBwZXJPcHRpb25zLm9mZnNldCA6IDA7XG4gICAgICAgIHdyYXBwZXJQb3BwZXIuY3VycmVudCA9IGNyZWF0ZVBvcHBlcihlbGVtZW50LCB3cmFwcGVyUmVmLmN1cnJlbnQsIHtcbiAgICAgICAgICBwbGFjZW1lbnQ6IHdyYXBwZXJPcHRpb25zPy5wbGFjZW1lbnQgPz8gcGxhY2VtZW50LFxuICAgICAgICAgIG1vZGlmaWVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcImFycm93XCIsXG4gICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBuYW1lOiBcIm9mZnNldFwiLFxuICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBbMCwgd3JhcHBlck9mZnNldF1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogXCJmbGlwXCIsXG4gICAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBvbkZpcnN0VXBkYXRlOiAocG9wcGVyU3RhdGUpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZVN0YXRlKHsgc3RhdHVzV3JhcHBlcjogU1RBVFVTLlJFTkRFUiB9KTtcbiAgICAgICAgICAgIGlmIChwbGFjZW1lbnQgIT09IHBvcHBlclN0YXRlLnBsYWNlbWVudCkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB3cmFwcGVyUG9wcGVyLmN1cnJlbnQ/LmZvcmNlVXBkYXRlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChnZXRQb3BwZXIpIHtcbiAgICAgICAgICBnZXRQb3BwZXIod3JhcHBlclBvcHBlci5jdXJyZW50LCBcIndyYXBwZXJcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sIFtcbiAgICBkaXNhYmxlRmxpcCxcbiAgICBnZXRQb3BwZXIsXG4gICAgaGlkZUFycm93LFxuICAgIG1vZGlmaWVycyxcbiAgICBvZmZzZXQsXG4gICAgcGxhY2VtZW50LFxuICAgIHVwZGF0ZVN0YXRlLFxuICAgIHdyYXBwZXJPcHRpb25zLm9mZnNldCxcbiAgICB3cmFwcGVyT3B0aW9ucz8ucGxhY2VtZW50XG4gIF0pO1xuICBjb25zdCBoYW5kbGVMb2FkID0gdXNlUmVmMygoKSA9PiB7XG4gICAgaWYgKHBvcHBlclJlZi5jdXJyZW50KSB7XG4gICAgICBwb3BwZXJSZWYuY3VycmVudC5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cbiAgICBpZiAod3JhcHBlclBvcHBlci5jdXJyZW50KSB7XG4gICAgICB3cmFwcGVyUG9wcGVyLmN1cnJlbnQuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBoYW5kbGVUcmFuc2l0aW9uRW5kID0gdXNlUmVmMygoKSA9PiB7XG4gICAgaWYgKHdyYXBwZXJQb3BwZXIuY3VycmVudCkge1xuICAgICAgd3JhcHBlclBvcHBlci5jdXJyZW50LmZvcmNlVXBkYXRlKCk7XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAge1xuICAgICAgICBzdGF0dXM6IHN0YXRlUmVmLmN1cnJlbnQuc3RhdHVzID09PSBTVEFUVVMuT1BFTklORyA/IFNUQVRVUy5PUEVOIDogU1RBVFVTLklETEVcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIGNhbGxiYWNrKHN0YXRlUmVmLmN1cnJlbnQuc3RhdHVzID09PSBTVEFUVVMuT1BFTiA/IFwib3BlblwiIDogXCJjbG9zZVwiLCBlbmhhbmNlUHJvcHMocHJvcHMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrMigoKSA9PiB7XG4gICAgaWYgKGlzNS5ib29sZWFuKG9wZW4pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjdXJyZW50RXZlbnQgPT09IFwiY2xpY2tcIiB8fCBjdXJyZW50RXZlbnQgPT09IFwiaG92ZXJcIiAmJiBwb3NpdGlvbldyYXBwZXIpIHtcbiAgICAgIGxvZyh7XG4gICAgICAgIHRpdGxlOiBcImNsaWNrXCIsXG4gICAgICAgIGRhdGE6IFt7IGV2ZW50LCBzdGF0dXM6IHN0YXR1cyA9PT0gU1RBVFVTLk9QRU4gPyBcImNsb3NpbmdcIiA6IFwib3BlbmluZ1wiIH1dLFxuICAgICAgICBkZWJ1ZzogY3VycmVudERlYnVnXG4gICAgICB9KTtcbiAgICAgIHRvZ2dsZShzdGF0dXMgPT09IFwiaWRsZVwiID8gU1RBVFVTLlJFTkRFUiA6IHZvaWQgMCk7XG4gICAgfVxuICB9LCBbY3VycmVudERlYnVnLCBjdXJyZW50RXZlbnQsIGV2ZW50LCBvcGVuLCBwb3NpdGlvbldyYXBwZXIsIHN0YXR1cywgdG9nZ2xlXSk7XG4gIGNvbnN0IGhhbmRsZU1vdXNlRW50ZXIgPSB1c2VDYWxsYmFjazIoKCkgPT4ge1xuICAgIGlmIChpczUuYm9vbGVhbihvcGVuKSB8fCBpc01vYmlsZSgpIHx8IGN1cnJlbnRFdmVudCAhPT0gXCJob3ZlclwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxvZyh7XG4gICAgICB0aXRsZTogXCJtb3VzZUVudGVyXCIsXG4gICAgICBkYXRhOiBbeyBrZXk6IFwib3JpZ2luYWxFdmVudFwiLCB2YWx1ZTogZXZlbnQgfV0sXG4gICAgICBkZWJ1ZzogY3VycmVudERlYnVnXG4gICAgfSk7XG4gICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTLklETEUpIHtcbiAgICAgIGNsZWFyVGltZW91dChldmVudERlbGF5VGltZXIuY3VycmVudCk7XG4gICAgICBldmVudERlbGF5VGltZXIuY3VycmVudCA9IHZvaWQgMDtcbiAgICAgIHRvZ2dsZShTVEFUVVMuUkVOREVSKTtcbiAgICB9XG4gIH0sIFtjdXJyZW50RGVidWcsIGN1cnJlbnRFdmVudCwgZXZlbnQsIG9wZW4sIHN0YXR1cywgdG9nZ2xlXSk7XG4gIGNvbnN0IGhhbmRsZU1vdXNlTGVhdmUgPSB1c2VDYWxsYmFjazIoKCkgPT4ge1xuICAgIGlmIChpczUuYm9vbGVhbihvcGVuKSB8fCBpc01vYmlsZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjdXJyZW50RXZlbnQgPT09IFwiaG92ZXJcIikge1xuICAgICAgbG9nKHtcbiAgICAgICAgdGl0bGU6IFwibW91c2VMZWF2ZVwiLFxuICAgICAgICBkYXRhOiBbeyBrZXk6IFwib3JpZ2luYWxFdmVudFwiLCB2YWx1ZTogZXZlbnQgfV0sXG4gICAgICAgIGRlYnVnOiBjdXJyZW50RGVidWdcbiAgICAgIH0pO1xuICAgICAgY29uc3QgaGFzT3BlblN0YXR1cyA9IFtTVEFUVVMuT1BFTklORywgU1RBVFVTLk9QRU5dLmluY2x1ZGVzKHN0YXR1cyk7XG4gICAgICBpZiAoIWV2ZW50RGVsYXkpIHtcbiAgICAgICAgdG9nZ2xlKHN0YXR1cyA9PT0gU1RBVFVTLkNMT1NJTkcgPyBTVEFUVVMuSURMRSA6IFNUQVRVUy5DTE9TSU5HKTtcbiAgICAgIH0gZWxzZSBpZiAoIXBvc2l0aW9uV3JhcHBlcikge1xuICAgICAgICBpZiAoaGFzT3BlblN0YXR1cykge1xuICAgICAgICAgIGNsZWFyVGltZW91dChldmVudERlbGF5VGltZXIuY3VycmVudCk7XG4gICAgICAgICAgZXZlbnREZWxheVRpbWVyLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0b2dnbGUoKTtcbiAgICAgICAgICAgIGV2ZW50RGVsYXlUaW1lci5jdXJyZW50ID0gdm9pZCAwO1xuICAgICAgICAgIH0sIGV2ZW50RGVsYXkgKiAxZTMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LCBbY3VycmVudERlYnVnLCBjdXJyZW50RXZlbnQsIGV2ZW50LCBldmVudERlbGF5LCBvcGVuLCBwb3NpdGlvbldyYXBwZXIsIHN0YXR1cywgdG9nZ2xlXSk7XG4gIGNvbnN0IGhhbmRsZVdyYXBwZXJNb3VudCA9IHVzZUNhbGxiYWNrMigoKSA9PiB7XG4gICAgaWYgKHBvc2l0aW9uV3JhcHBlcikge1xuICAgICAgaW5pdFBvcHBlcigpO1xuICAgIH1cbiAgfSwgW2luaXRQb3BwZXIsIHBvc2l0aW9uV3JhcHBlcl0pO1xuICBjb25zdCBjbGVhblVwID0gKCkgPT4ge1xuICAgIGlmIChwb3BwZXJSZWYuY3VycmVudCkge1xuICAgICAgcG9wcGVyUmVmLmN1cnJlbnQuZGVzdHJveSgpO1xuICAgICAgcG9wcGVyUmVmLmN1cnJlbnQgPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmICh3cmFwcGVyUG9wcGVyLmN1cnJlbnQpIHtcbiAgICAgIHdyYXBwZXJQb3BwZXIuY3VycmVudC5kZXN0cm95KCk7XG4gICAgICB3cmFwcGVyUG9wcGVyLmN1cnJlbnQgPSB2b2lkIDA7XG4gICAgfVxuICB9O1xuICB1c2VTaW5nbGV0b24oKCkgPT4ge1xuICAgIGlmIChjYW5Vc2VET00oKSkge1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGhhbmRsZUxvYWQuY3VycmVudCk7XG4gICAgfVxuICB9KTtcbiAgdXNlTW91bnQoKCkgPT4ge1xuICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICBsb2coe1xuICAgICAgdGl0bGU6IFwiaW5pdFwiLFxuICAgICAgZGF0YToge1xuICAgICAgICBoYXNDaGlsZHJlbjogISFjaGlsZHJlbixcbiAgICAgICAgaGFzVGFyZ2V0OiAhIXRhcmdldCxcbiAgICAgICAgaXNDb250cm9sbGVkOiBpczUuYm9vbGVhbihvcGVuKSxcbiAgICAgICAgcG9zaXRpb25XcmFwcGVyLFxuICAgICAgICB0YXJnZXQ6IHRhcmdldEVsZW1lbnQuY3VycmVudCgpLFxuICAgICAgICBmbG9hdGVyOiBmbG9hdGVyUmVmLmN1cnJlbnRcbiAgICAgIH0sXG4gICAgICBkZWJ1ZzogY3VycmVudERlYnVnXG4gICAgfSk7XG4gICAgaW5pdFBvcHBlcigpO1xuICB9KTtcbiAgdXNlVW5tb3VudCgoKSA9PiB7XG4gICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICBjbGVhblVwKCk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGhhbmRsZUxvYWQuY3VycmVudCk7XG4gIH0pO1xuICB1c2VVcGRhdGVFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY2FuVXNlRE9NKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNoYW5nZWRQcm9wcyhcIm9wZW5cIikpIHtcbiAgICAgIGxldCBmb3JjZVN0YXR1cztcbiAgICAgIGlmIChpczUuYm9vbGVhbihvcGVuKSkge1xuICAgICAgICBmb3JjZVN0YXR1cyA9IG9wZW4gPyBTVEFUVVMuUkVOREVSIDogU1RBVFVTLkNMT1NJTkc7XG4gICAgICB9XG4gICAgICB0b2dnbGUoZm9yY2VTdGF0dXMpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlZFByb3BzKFwid3JhcHBlck9wdGlvbnMucG9zaXRpb25cIikgfHwgY2hhbmdlZFByb3BzKFwidGFyZ2V0XCIpKSB7XG4gICAgICB1cGRhdGVTdGF0ZSh7XG4gICAgICAgIHBvc2l0aW9uV3JhcHBlcjogISF3cmFwcGVyT3B0aW9ucz8ucG9zaXRpb24gJiYgISF0YXJnZXRcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlZChcInN0YXR1c1wiLCBTVEFUVVMuSURMRSkgJiYgb3BlbiB8fCBjaGFuZ2VkKFwic3RhdHVzXCIsIFNUQVRVUy5JRExFLCBTVEFUVVMuSU5JVCkgJiYgYXV0b09wZW4pIHtcbiAgICAgIHRvZ2dsZShTVEFUVVMuUkVOREVSKTtcbiAgICB9XG4gICAgaWYgKGNoYW5nZWQoXCJzdGF0dXNcIiwgU1RBVFVTLlJFTkRFUikpIHtcbiAgICAgIGlmIChwb3BwZXJSZWYuY3VycmVudCkge1xuICAgICAgICBwb3BwZXJSZWYuY3VycmVudC5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgICBpbml0UG9wcGVyKCk7XG4gICAgfVxuICAgIGlmIChmbG9hdGVyUmVmLmN1cnJlbnQgJiYgY2hhbmdlZChcInN0YXR1c1wiLCBbU1RBVFVTLlJFTkRFUiwgU1RBVFVTLkNMT1NJTkddKSkge1xuICAgICAgb25jZShmbG9hdGVyUmVmLmN1cnJlbnQsIFwidHJhbnNpdGlvbmVuZFwiLCBoYW5kbGVUcmFuc2l0aW9uRW5kLmN1cnJlbnQpO1xuICAgIH1cbiAgICBpZiAoY2hhbmdlZChcInN0YXR1c1wiLCBTVEFUVVMuSURMRSwgU1RBVFVTLkNMT1NJTkcpICYmIHBvcHBlclJlZi5jdXJyZW50KSB7XG4gICAgICBwb3BwZXJSZWYuY3VycmVudC5kZXN0cm95KCk7XG4gICAgICBwb3BwZXJSZWYuY3VycmVudCA9IHZvaWQgMDtcbiAgICAgIGlmICh3cmFwcGVyUG9wcGVyLmN1cnJlbnQpIHtcbiAgICAgICAgd3JhcHBlclBvcHBlci5jdXJyZW50LmZvcmNlVXBkYXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgY29uc3Qgd3JhcHBlciA9IC8qIEBfX1BVUkVfXyAqLyBqc3g2KFxuICAgIFdyYXBwZXJfZGVmYXVsdCxcbiAgICB7XG4gICAgICBjaGlsZFJlZixcbiAgICAgIGlkOiBpZCA/PyBpbnRlcm5hbElkLmN1cnJlbnQsXG4gICAgICBpc0NvbnRyb2xsZWQ6IGlzNS5ib29sZWFuKG9wZW4pLFxuICAgICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgICBvbk1vdW50OiBoYW5kbGVXcmFwcGVyTW91bnQsXG4gICAgICBvbk1vdXNlRW50ZXI6IGhhbmRsZU1vdXNlRW50ZXIsXG4gICAgICBvbk1vdXNlTGVhdmU6IGhhbmRsZU1vdXNlTGVhdmUsXG4gICAgICBzdGF0dXMsXG4gICAgICBzdHlsZSxcbiAgICAgIHN0eWxlczogY3VycmVudFN0eWxlcy53cmFwcGVyLFxuICAgICAgd3JhcHBlclJlZixcbiAgICAgIGNoaWxkcmVuXG4gICAgfVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMzKEZyYWdtZW50MiwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzMyhcbiAgICAgIFJlYWN0RmxvYXRlclBvcnRhbCxcbiAgICAgIHtcbiAgICAgICAgaGFzQ2hpbGRyZW46ICEhY2hpbGRyZW4sXG4gICAgICAgIGludGVybmFsSWQ6IGludGVybmFsSWQuY3VycmVudCxcbiAgICAgICAgcGxhY2VtZW50OiBjdXJyZW50UGxhY2VtZW50LFxuICAgICAgICBwb3J0YWxFbGVtZW50LFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIHpJbmRleDogY3VycmVudFN0eWxlcy5vcHRpb25zLnpJbmRleCxcbiAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4NihcbiAgICAgICAgICAgIEZsb2F0ZXJfZGVmYXVsdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgYXJyb3dSZWYsXG4gICAgICAgICAgICAgIGNvbXBvbmVudCxcbiAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgZmxvYXRlclJlZixcbiAgICAgICAgICAgICAgZm9vdGVyLFxuICAgICAgICAgICAgICBoaWRlQXJyb3c6IGhpZGVBcnJvdyB8fCBjdXJyZW50UGxhY2VtZW50ID09PSBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBpZDogaWQgPz8gaW50ZXJuYWxJZC5jdXJyZW50LFxuICAgICAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICAgICAgICAgICAgcGxhY2VtZW50OiBjdXJyZW50UGxhY2VtZW50LFxuICAgICAgICAgICAgICBwb3NpdGlvbldyYXBwZXIsXG4gICAgICAgICAgICAgIHNob3dDbG9zZUJ1dHRvbixcbiAgICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgICAgICBzdHlsZXM6IGN1cnJlbnRTdHlsZXMsXG4gICAgICAgICAgICAgIHRpdGxlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICBwb3NpdGlvbldyYXBwZXIgJiYgd3JhcHBlclxuICAgICAgICBdXG4gICAgICB9XG4gICAgKSxcbiAgICAhcG9zaXRpb25XcmFwcGVyICYmIHdyYXBwZXJcbiAgXSB9KTtcbn1cbmV4cG9ydCB7XG4gIFJlYWN0RmxvYXRlciBhcyBkZWZhdWx0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/.pnpm/react-floater@0.9.5-4_react-dom@19.1.1_react@19.1.1__react@19.1.1/node_modules/react-floater/dist/index.mjs\n");

/***/ })

};
;